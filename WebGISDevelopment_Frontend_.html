<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=1Zr_QXebyLnrBDQoXKqc9Xx-n9gHVda6r3HQCMNQz4M');ul.lst-kix_uw7djawsqb9r-2{list-style-type:none}ul.lst-kix_uw7djawsqb9r-1{list-style-type:none}ul.lst-kix_uw7djawsqb9r-4{list-style-type:none}ul.lst-kix_uw7djawsqb9r-3{list-style-type:none}.lst-kix_rhmhrtnw4ioa-6>li:before{content:"\0025cf  "}.lst-kix_rhmhrtnw4ioa-7>li:before{content:"\0025cb  "}.lst-kix_uw7djawsqb9r-0>li{counter-increment:lst-ctn-kix_uw7djawsqb9r-0}.lst-kix_rhmhrtnw4ioa-8>li:before{content:"\0025a0  "}.lst-kix_4pubj7vib1mt-7>li:before{content:"\0025cb  "}.lst-kix_rhmhrtnw4ioa-2>li:before{content:"\0025a0  "}.lst-kix_rhmhrtnw4ioa-3>li:before{content:"\0025cf  "}.lst-kix_4pubj7vib1mt-5>li:before{content:"\0025a0  "}ul.lst-kix_sr3gv86tjvoq-8{list-style-type:none}.lst-kix_rhmhrtnw4ioa-1>li:before{content:"\0025cb  "}.lst-kix_rhmhrtnw4ioa-5>li:before{content:"\0025a0  "}.lst-kix_4pubj7vib1mt-6>li:before{content:"\0025cf  "}ul.lst-kix_uw7djawsqb9r-6{list-style-type:none}ul.lst-kix_sr3gv86tjvoq-4{list-style-type:none}ul.lst-kix_uw7djawsqb9r-5{list-style-type:none}ul.lst-kix_sr3gv86tjvoq-5{list-style-type:none}ul.lst-kix_uw7djawsqb9r-8{list-style-type:none}ul.lst-kix_sr3gv86tjvoq-6{list-style-type:none}ul.lst-kix_uw7djawsqb9r-7{list-style-type:none}ul.lst-kix_sr3gv86tjvoq-7{list-style-type:none}ul.lst-kix_sr3gv86tjvoq-0{list-style-type:none}.lst-kix_rhmhrtnw4ioa-4>li:before{content:"\0025cb  "}ul.lst-kix_sr3gv86tjvoq-1{list-style-type:none}.lst-kix_4pubj7vib1mt-8>li:before{content:"\0025a0  "}ul.lst-kix_sr3gv86tjvoq-2{list-style-type:none}ul.lst-kix_sr3gv86tjvoq-3{list-style-type:none}.lst-kix_4pubj7vib1mt-1>li:before{content:"\0025cb  "}.lst-kix_4pubj7vib1mt-2>li:before{content:"\0025a0  "}.lst-kix_4pubj7vib1mt-3>li:before{content:"\0025cf  "}.lst-kix_4pubj7vib1mt-4>li:before{content:"\0025cb  "}.lst-kix_ar67uz8iwr7a-7>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-7}.lst-kix_hk231ul2m0pp-0>li:before{content:"\0025cf  "}.lst-kix_hk231ul2m0pp-1>li:before{content:"\0025cb  "}.lst-kix_4pubj7vib1mt-0>li:before{content:"\0025cf  "}ol.lst-kix_ar67uz8iwr7a-5.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-5 0}.lst-kix_hk231ul2m0pp-3>li:before{content:"\0025cf  "}.lst-kix_ar67uz8iwr7a-0>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-0}.lst-kix_hk231ul2m0pp-2>li:before{content:"\0025a0  "}.lst-kix_hk231ul2m0pp-4>li:before{content:"\0025cb  "}.lst-kix_qnzs4zvhn9r3-0>li{counter-increment:lst-ctn-kix_qnzs4zvhn9r3-0}.lst-kix_hk231ul2m0pp-6>li:before{content:"\0025cf  "}.lst-kix_hk231ul2m0pp-5>li:before{content:"\0025a0  "}.lst-kix_hk231ul2m0pp-7>li:before{content:"\0025cb  "}.lst-kix_hk231ul2m0pp-8>li:before{content:"\0025a0  "}.lst-kix_rhmhrtnw4ioa-0>li:before{content:"\0025cf  "}ol.lst-kix_ar67uz8iwr7a-0.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-0 0}.lst-kix_ar67uz8iwr7a-3>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-3}ol.lst-kix_ar67uz8iwr7a-3.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-3 0}.lst-kix_c9tpr0fj7tej-0>li{counter-increment:lst-ctn-kix_c9tpr0fj7tej-0}.lst-kix_no56xwv0h646-7>li:before{content:"\002022  "}ul.lst-kix_hk231ul2m0pp-4{list-style-type:none}ul.lst-kix_hk231ul2m0pp-5{list-style-type:none}ol.lst-kix_c9tpr0fj7tej-0.start{counter-reset:lst-ctn-kix_c9tpr0fj7tej-0 0}ul.lst-kix_hk231ul2m0pp-6{list-style-type:none}ul.lst-kix_hk231ul2m0pp-7{list-style-type:none}ul.lst-kix_hk231ul2m0pp-0{list-style-type:none}ul.lst-kix_hk231ul2m0pp-1{list-style-type:none}ul.lst-kix_hk231ul2m0pp-2{list-style-type:none}ul.lst-kix_hk231ul2m0pp-3{list-style-type:none}ul.lst-kix_hk231ul2m0pp-8{list-style-type:none}.lst-kix_j0hbfj4o7bs5-2>li:before{content:"\0025a0  "}.lst-kix_j0hbfj4o7bs5-4>li:before{content:"\0025cb  "}.lst-kix_9pt4k56xfldo-0>li:before{content:"\0025cf  "}.lst-kix_9pt4k56xfldo-4>li:before{content:"\0025cb  "}.lst-kix_j0hbfj4o7bs5-0>li:before{content:"\0025cf  "}.lst-kix_j0hbfj4o7bs5-6>li:before{content:"\0025cf  "}.lst-kix_j0hbfj4o7bs5-8>li:before{content:"\0025a0  "}.lst-kix_9pt4k56xfldo-2>li:before{content:"\0025a0  "}.lst-kix_e9jrp5gtf8oc-0>li:before{content:"" counter(lst-ctn-kix_e9jrp5gtf8oc-0,decimal) ") "}.lst-kix_9pt4k56xfldo-8>li:before{content:"\0025a0  "}.lst-kix_uw7djawsqb9r-4>li:before{content:"\002022  "}.lst-kix_e9jrp5gtf8oc-2>li:before{content:"\002022  "}.lst-kix_9pt4k56xfldo-6>li:before{content:"\0025cf  "}.lst-kix_no56xwv0h646-5>li:before{content:"\002022  "}.lst-kix_e9jrp5gtf8oc-6>li:before{content:"\002022  "}ol.lst-kix_uw7djawsqb9r-0{list-style-type:none}.lst-kix_sr3gv86tjvoq-6>li:before{content:"\0025cf  "}.lst-kix_sr3gv86tjvoq-8>li:before{content:"\0025a0  "}.lst-kix_no56xwv0h646-3>li:before{content:"\002022  "}.lst-kix_uw7djawsqb9r-2>li:before{content:"\002022  "}ol.lst-kix_e9jrp5gtf8oc-0{list-style-type:none}.lst-kix_e9jrp5gtf8oc-4>li:before{content:"\002022  "}ol.lst-kix_qnzs4zvhn9r3-0{list-style-type:none}.lst-kix_no56xwv0h646-1>li:before{content:"\002022  "}.lst-kix_uw7djawsqb9r-0>li:before{content:"" counter(lst-ctn-kix_uw7djawsqb9r-0,decimal) ") "}.lst-kix_sr3gv86tjvoq-0>li:before{content:"\0025cf  "}ul.lst-kix_rhmhrtnw4ioa-8{list-style-type:none}ul.lst-kix_rhmhrtnw4ioa-7{list-style-type:none}ul.lst-kix_rhmhrtnw4ioa-6{list-style-type:none}ul.lst-kix_rhmhrtnw4ioa-5{list-style-type:none}ul.lst-kix_rhmhrtnw4ioa-4{list-style-type:none}ul.lst-kix_rhmhrtnw4ioa-3{list-style-type:none}ul.lst-kix_rhmhrtnw4ioa-2{list-style-type:none}.lst-kix_sr3gv86tjvoq-2>li:before{content:"\0025a0  "}.lst-kix_sr3gv86tjvoq-4>li:before{content:"\0025cb  "}ul.lst-kix_rhmhrtnw4ioa-1{list-style-type:none}.lst-kix_e9jrp5gtf8oc-8>li:before{content:"\002022  "}ul.lst-kix_rhmhrtnw4ioa-0{list-style-type:none}ul.lst-kix_no56xwv0h646-7{list-style-type:none}ul.lst-kix_no56xwv0h646-6{list-style-type:none}ul.lst-kix_no56xwv0h646-8{list-style-type:none}ul.lst-kix_no56xwv0h646-3{list-style-type:none}ul.lst-kix_no56xwv0h646-2{list-style-type:none}.lst-kix_sb4vqz99nyfy-0>li:before{content:"\0025cf  "}ul.lst-kix_no56xwv0h646-5{list-style-type:none}ul.lst-kix_no56xwv0h646-4{list-style-type:none}ul.lst-kix_6qrci558is3n-0{list-style-type:none}.lst-kix_6qrci558is3n-7>li:before{content:"\0025cb  "}ul.lst-kix_no56xwv0h646-1{list-style-type:none}.lst-kix_ar67uz8iwr7a-8>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-8}.lst-kix_kufqjegchkb-2>li:before{content:"\0025a0  "}ul.lst-kix_no56xwv0h646-0{list-style-type:none}.lst-kix_kufqjegchkb-1>li:before{content:"\0025cb  "}.lst-kix_6qrci558is3n-8>li:before{content:"\0025a0  "}.lst-kix_47tttymf62p6-8>li:before{content:"\0025a0  "}.lst-kix_uw7djawsqb9r-8>li:before{content:"\002022  "}.lst-kix_58exd6kpdp5e-6>li:before{content:"\0025cf  "}.lst-kix_58exd6kpdp5e-5>li:before{content:"\0025a0  "}.lst-kix_6qrci558is3n-3>li:before{content:"\0025cf  "}ul.lst-kix_6qrci558is3n-4{list-style-type:none}ul.lst-kix_6qrci558is3n-3{list-style-type:none}ul.lst-kix_6qrci558is3n-2{list-style-type:none}.lst-kix_58exd6kpdp5e-2>li:before{content:"\0025a0  "}ul.lst-kix_6qrci558is3n-1{list-style-type:none}ol.lst-kix_uw7djawsqb9r-0.start{counter-reset:lst-ctn-kix_uw7djawsqb9r-0 0}.lst-kix_qs0mourisqes-7>li:before{content:"\002022  "}ul.lst-kix_6qrci558is3n-8{list-style-type:none}.lst-kix_6qrci558is3n-4>li:before{content:"\0025cb  "}ul.lst-kix_6qrci558is3n-7{list-style-type:none}ul.lst-kix_6qrci558is3n-6{list-style-type:none}ul.lst-kix_6qrci558is3n-5{list-style-type:none}.lst-kix_qs0mourisqes-6>li:before{content:"\002022  "}ol.lst-kix_ar67uz8iwr7a-2.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-2 0}.lst-kix_kufqjegchkb-5>li:before{content:"\0025a0  "}.lst-kix_qs0mourisqes-3>li:before{content:"\002022  "}.lst-kix_qnzs4zvhn9r3-0>li:before{content:"" counter(lst-ctn-kix_qnzs4zvhn9r3-0,decimal) ") "}.lst-kix_58exd6kpdp5e-1>li:before{content:"\0025cb  "}.lst-kix_kufqjegchkb-6>li:before{content:"\0025cf  "}.lst-kix_6qrci558is3n-0>li:before{content:"\0025cf  "}.lst-kix_qs0mourisqes-2>li:before{content:"\002022  "}ol.lst-kix_qnzs4zvhn9r3-0.start{counter-reset:lst-ctn-kix_qnzs4zvhn9r3-0 0}.lst-kix_ar67uz8iwr7a-6>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-6,decimal) ". "}.lst-kix_ar67uz8iwr7a-2>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-2,lower-roman) ". "}.lst-kix_ar67uz8iwr7a-1>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-1,lower-latin) ". "}ol.lst-kix_ar67uz8iwr7a-1.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-1 0}.lst-kix_sx82rlr3j9cq-0>li:before{content:"\0025cf  "}.lst-kix_sb4vqz99nyfy-7>li:before{content:"\0025cb  "}.lst-kix_sb4vqz99nyfy-8>li:before{content:"\0025a0  "}.lst-kix_sx82rlr3j9cq-4>li:before{content:"\0025cb  "}.lst-kix_47tttymf62p6-1>li:before{content:"\0025cb  "}.lst-kix_47tttymf62p6-5>li:before{content:"\0025a0  "}.lst-kix_9hkxgdhel5f8-2>li:before{content:"\002022  "}.lst-kix_sb4vqz99nyfy-3>li:before{content:"\0025cf  "}.lst-kix_sb4vqz99nyfy-4>li:before{content:"\0025cb  "}.lst-kix_sx82rlr3j9cq-3>li:before{content:"\0025cf  "}.lst-kix_9hkxgdhel5f8-3>li:before{content:"\002022  "}.lst-kix_47tttymf62p6-4>li:before{content:"\0025cb  "}ul.lst-kix_58exd6kpdp5e-8{list-style-type:none}ul.lst-kix_58exd6kpdp5e-6{list-style-type:none}ul.lst-kix_58exd6kpdp5e-7{list-style-type:none}ul.lst-kix_58exd6kpdp5e-4{list-style-type:none}ul.lst-kix_58exd6kpdp5e-5{list-style-type:none}ul.lst-kix_58exd6kpdp5e-2{list-style-type:none}.lst-kix_9hkxgdhel5f8-6>li:before{content:"\002022  "}ul.lst-kix_58exd6kpdp5e-3{list-style-type:none}ul.lst-kix_58exd6kpdp5e-0{list-style-type:none}ul.lst-kix_58exd6kpdp5e-1{list-style-type:none}.lst-kix_sx82rlr3j9cq-8>li:before{content:"\0025a0  "}.lst-kix_ar67uz8iwr7a-5>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-5,lower-roman) ". "}.lst-kix_sx82rlr3j9cq-7>li:before{content:"\0025cb  "}.lst-kix_9hkxgdhel5f8-7>li:before{content:"\002022  "}.lst-kix_47tttymf62p6-0>li:before{content:"\0025cf  "}ul.lst-kix_3zh2r4rkm68i-1{list-style-type:none}ul.lst-kix_3zh2r4rkm68i-2{list-style-type:none}ul.lst-kix_3zh2r4rkm68i-0{list-style-type:none}.lst-kix_3zh2r4rkm68i-8>li:before{content:"\0025a0  "}ul.lst-kix_3zh2r4rkm68i-7{list-style-type:none}ul.lst-kix_3zh2r4rkm68i-8{list-style-type:none}.lst-kix_iffb1o1467lh-7>li:before{content:"\0025cb  "}ul.lst-kix_3zh2r4rkm68i-5{list-style-type:none}.lst-kix_c9tpr0fj7tej-0>li:before{content:"" counter(lst-ctn-kix_c9tpr0fj7tej-0,decimal) ") "}ul.lst-kix_3zh2r4rkm68i-6{list-style-type:none}.lst-kix_rh1zhtiebfa7-0>li:before{content:"\0025cf  "}ul.lst-kix_3zh2r4rkm68i-3{list-style-type:none}ul.lst-kix_3zh2r4rkm68i-4{list-style-type:none}ul.lst-kix_9pt4k56xfldo-0{list-style-type:none}ul.lst-kix_9pt4k56xfldo-1{list-style-type:none}ul.lst-kix_9pt4k56xfldo-2{list-style-type:none}ul.lst-kix_9pt4k56xfldo-3{list-style-type:none}.lst-kix_3zh2r4rkm68i-0>li:before{content:"\0025cf  "}.lst-kix_3zh2r4rkm68i-4>li:before{content:"\0025cb  "}ul.lst-kix_9pt4k56xfldo-4{list-style-type:none}ul.lst-kix_9pt4k56xfldo-5{list-style-type:none}ul.lst-kix_9pt4k56xfldo-6{list-style-type:none}ul.lst-kix_9pt4k56xfldo-7{list-style-type:none}ul.lst-kix_9pt4k56xfldo-8{list-style-type:none}.lst-kix_c9tpr0fj7tej-4>li:before{content:"\002022  "}.lst-kix_8i0n05m6ligj-3>li:before{content:"\0025cf  "}.lst-kix_8i0n05m6ligj-7>li:before{content:"\0025cb  "}.lst-kix_no56xwv0h646-8>li:before{content:"\002022  "}ul.lst-kix_qnzs4zvhn9r3-8{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-7{list-style-type:none}ul.lst-kix_iffb1o1467lh-2{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-6{list-style-type:none}ul.lst-kix_iffb1o1467lh-3{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-5{list-style-type:none}ul.lst-kix_iffb1o1467lh-4{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-4{list-style-type:none}.lst-kix_9pt4k56xfldo-1>li:before{content:"\0025cb  "}ul.lst-kix_iffb1o1467lh-5{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-3{list-style-type:none}ul.lst-kix_iffb1o1467lh-6{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-2{list-style-type:none}.lst-kix_qnzs4zvhn9r3-4>li:before{content:"\002022  "}.lst-kix_qnzs4zvhn9r3-8>li:before{content:"\002022  "}ul.lst-kix_iffb1o1467lh-7{list-style-type:none}ul.lst-kix_qnzs4zvhn9r3-1{list-style-type:none}.lst-kix_1zytx7tpqopf-0>li:before{content:"\0025cf  "}ul.lst-kix_iffb1o1467lh-8{list-style-type:none}ul.lst-kix_iffb1o1467lh-0{list-style-type:none}ul.lst-kix_iffb1o1467lh-1{list-style-type:none}.lst-kix_j0hbfj4o7bs5-7>li:before{content:"\0025cb  "}.lst-kix_ar67uz8iwr7a-5>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-5}.lst-kix_1zytx7tpqopf-4>li:before{content:"o  "}.lst-kix_1zytx7tpqopf-8>li:before{content:"\0025aa  "}.lst-kix_di2ecfkyzcc-5>li:before{content:"\0025a0  "}.lst-kix_9pt4k56xfldo-5>li:before{content:"\0025a0  "}.lst-kix_uw7djawsqb9r-5>li:before{content:"\002022  "}ul.lst-kix_47tttymf62p6-7{list-style-type:none}ul.lst-kix_47tttymf62p6-6{list-style-type:none}.lst-kix_c965wmvgwvjs-6>li:before{content:"\0025cf  "}ul.lst-kix_47tttymf62p6-8{list-style-type:none}.lst-kix_no56xwv0h646-4>li:before{content:"\002022  "}.lst-kix_e9jrp5gtf8oc-7>li:before{content:"\002022  "}.lst-kix_sr3gv86tjvoq-5>li:before{content:"\0025a0  "}.lst-kix_e9jrp5gtf8oc-3>li:before{content:"\002022  "}ul.lst-kix_47tttymf62p6-1{list-style-type:none}ul.lst-kix_47tttymf62p6-0{list-style-type:none}.lst-kix_no56xwv0h646-0>li:before{content:"\002022  "}ul.lst-kix_47tttymf62p6-3{list-style-type:none}.lst-kix_uw7djawsqb9r-1>li:before{content:"\002022  "}ul.lst-kix_47tttymf62p6-2{list-style-type:none}ul.lst-kix_47tttymf62p6-5{list-style-type:none}.lst-kix_rh1zhtiebfa7-8>li:before{content:"\0025a0  "}ul.lst-kix_47tttymf62p6-4{list-style-type:none}.lst-kix_di2ecfkyzcc-1>li:before{content:"\0025cb  "}.lst-kix_sr3gv86tjvoq-1>li:before{content:"\0025cb  "}.lst-kix_c965wmvgwvjs-2>li:before{content:"\0025a0  "}.lst-kix_iffb1o1467lh-3>li:before{content:"\0025cf  "}.lst-kix_rh1zhtiebfa7-4>li:before{content:"\0025cb  "}.lst-kix_j0hbfj4o7bs5-3>li:before{content:"\0025cf  "}ul.lst-kix_qs0mourisqes-2{list-style-type:none}ul.lst-kix_qs0mourisqes-1{list-style-type:none}ul.lst-kix_qs0mourisqes-4{list-style-type:none}ul.lst-kix_qs0mourisqes-3{list-style-type:none}ul.lst-kix_qs0mourisqes-6{list-style-type:none}ul.lst-kix_qs0mourisqes-5{list-style-type:none}ul.lst-kix_qs0mourisqes-8{list-style-type:none}ul.lst-kix_qs0mourisqes-7{list-style-type:none}.lst-kix_iy0chlpcrb0g-8>li:before{content:"\0025a0  "}ul.lst-kix_qs0mourisqes-0{list-style-type:none}.lst-kix_iy0chlpcrb0g-2>li:before{content:"\0025a0  "}.lst-kix_iy0chlpcrb0g-4>li:before{content:"\0025cb  "}.lst-kix_iy0chlpcrb0g-3>li:before{content:"\0025cf  "}.lst-kix_iy0chlpcrb0g-7>li:before{content:"\0025cb  "}.lst-kix_iy0chlpcrb0g-6>li:before{content:"\0025cf  "}.lst-kix_iy0chlpcrb0g-5>li:before{content:"\0025a0  "}.lst-kix_iy0chlpcrb0g-0>li:before{content:"\0025cf  "}.lst-kix_iy0chlpcrb0g-1>li:before{content:"\0025cb  "}ul.lst-kix_9hkxgdhel5f8-8{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-5{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-4{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-7{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-6{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-1{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-0{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-3{list-style-type:none}ul.lst-kix_9hkxgdhel5f8-2{list-style-type:none}.lst-kix_c9tpr0fj7tej-7>li:before{content:"\002022  "}.lst-kix_c9tpr0fj7tej-8>li:before{content:"\002022  "}.lst-kix_3zh2r4rkm68i-7>li:before{content:"\0025cb  "}.lst-kix_c9tpr0fj7tej-1>li:before{content:"\002022  "}.lst-kix_iffb1o1467lh-8>li:before{content:"\0025a0  "}.lst-kix_3zh2r4rkm68i-3>li:before{content:"\0025cf  "}.lst-kix_c9tpr0fj7tej-5>li:before{content:"\002022  "}ul.lst-kix_di2ecfkyzcc-8{list-style-type:none}.lst-kix_3zh2r4rkm68i-1>li:before{content:"\0025cb  "}.lst-kix_3zh2r4rkm68i-5>li:before{content:"\0025a0  "}.lst-kix_8i0n05m6ligj-8>li:before{content:"\0025a0  "}ol.lst-kix_e9jrp5gtf8oc-0.start{counter-reset:lst-ctn-kix_e9jrp5gtf8oc-0 0}.lst-kix_ar67uz8iwr7a-2>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-2}.lst-kix_c9tpr0fj7tej-3>li:before{content:"\002022  "}.lst-kix_di2ecfkyzcc-8>li:before{content:"\0025a0  "}.lst-kix_8i0n05m6ligj-0>li:before{content:"\0025cf  "}.lst-kix_8i0n05m6ligj-4>li:before{content:"\0025cb  "}ul.lst-kix_di2ecfkyzcc-3{list-style-type:none}ul.lst-kix_di2ecfkyzcc-2{list-style-type:none}.lst-kix_ar67uz8iwr7a-1>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-1}ul.lst-kix_di2ecfkyzcc-1{list-style-type:none}ul.lst-kix_di2ecfkyzcc-0{list-style-type:none}ul.lst-kix_di2ecfkyzcc-7{list-style-type:none}ul.lst-kix_di2ecfkyzcc-6{list-style-type:none}ul.lst-kix_di2ecfkyzcc-5{list-style-type:none}ul.lst-kix_di2ecfkyzcc-4{list-style-type:none}.lst-kix_8i0n05m6ligj-6>li:before{content:"\0025cf  "}.lst-kix_8i0n05m6ligj-2>li:before{content:"\0025a0  "}.lst-kix_qnzs4zvhn9r3-5>li:before{content:"\002022  "}.lst-kix_qnzs4zvhn9r3-7>li:before{content:"\002022  "}.lst-kix_1zytx7tpqopf-3>li:before{content:"\0025cf  "}.lst-kix_qnzs4zvhn9r3-1>li:before{content:"\002022  "}.lst-kix_qnzs4zvhn9r3-3>li:before{content:"\002022  "}ul.lst-kix_4pubj7vib1mt-1{list-style-type:none}ul.lst-kix_4pubj7vib1mt-0{list-style-type:none}.lst-kix_1zytx7tpqopf-1>li:before{content:"o  "}.lst-kix_1zytx7tpqopf-7>li:before{content:"o  "}.lst-kix_di2ecfkyzcc-6>li:before{content:"\0025cf  "}.lst-kix_1zytx7tpqopf-5>li:before{content:"\0025aa  "}.lst-kix_c965wmvgwvjs-7>li:before{content:"\0025cb  "}.lst-kix_58exd6kpdp5e-8>li:before{content:"\0025a0  "}ol.lst-kix_ar67uz8iwr7a-4.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-4 0}.lst-kix_di2ecfkyzcc-4>li:before{content:"\0025cb  "}.lst-kix_iffb1o1467lh-0>li:before{content:"\0025cf  "}.lst-kix_c965wmvgwvjs-5>li:before{content:"\0025a0  "}.lst-kix_rh1zhtiebfa7-7>li:before{content:"\0025cb  "}ul.lst-kix_j0hbfj4o7bs5-6{list-style-type:none}.lst-kix_di2ecfkyzcc-2>li:before{content:"\0025a0  "}ul.lst-kix_j0hbfj4o7bs5-5{list-style-type:none}ul.lst-kix_j0hbfj4o7bs5-8{list-style-type:none}ul.lst-kix_j0hbfj4o7bs5-7{list-style-type:none}ul.lst-kix_4pubj7vib1mt-5{list-style-type:none}.lst-kix_rh1zhtiebfa7-1>li:before{content:"\0025cb  "}ul.lst-kix_j0hbfj4o7bs5-2{list-style-type:none}ul.lst-kix_4pubj7vib1mt-4{list-style-type:none}.lst-kix_di2ecfkyzcc-0>li:before{content:"\0025cf  "}ul.lst-kix_j0hbfj4o7bs5-1{list-style-type:none}ul.lst-kix_4pubj7vib1mt-3{list-style-type:none}.lst-kix_iffb1o1467lh-4>li:before{content:"\0025cb  "}.lst-kix_iffb1o1467lh-6>li:before{content:"\0025cf  "}ul.lst-kix_j0hbfj4o7bs5-4{list-style-type:none}ul.lst-kix_4pubj7vib1mt-2{list-style-type:none}ul.lst-kix_j0hbfj4o7bs5-3{list-style-type:none}ul.lst-kix_4pubj7vib1mt-8{list-style-type:none}ul.lst-kix_4pubj7vib1mt-7{list-style-type:none}ul.lst-kix_j0hbfj4o7bs5-0{list-style-type:none}ul.lst-kix_4pubj7vib1mt-6{list-style-type:none}.lst-kix_c965wmvgwvjs-3>li:before{content:"\0025cf  "}.lst-kix_rh1zhtiebfa7-5>li:before{content:"\0025a0  "}.lst-kix_iffb1o1467lh-2>li:before{content:"\0025a0  "}.lst-kix_c965wmvgwvjs-1>li:before{content:"\0025cb  "}.lst-kix_rh1zhtiebfa7-3>li:before{content:"\0025cf  "}ul.lst-kix_kufqjegchkb-8{list-style-type:none}ul.lst-kix_kufqjegchkb-6{list-style-type:none}ul.lst-kix_kufqjegchkb-7{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-7.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-7 0}.lst-kix_sb4vqz99nyfy-1>li:before{content:"\0025cb  "}.lst-kix_47tttymf62p6-7>li:before{content:"\0025cb  "}.lst-kix_kufqjegchkb-0>li:before{content:"\0025cf  "}.lst-kix_uw7djawsqb9r-7>li:before{content:"\002022  "}.lst-kix_6qrci558is3n-1>li:before{content:"\0025cb  "}.lst-kix_6qrci558is3n-2>li:before{content:"\0025a0  "}.lst-kix_uw7djawsqb9r-6>li:before{content:"\002022  "}.lst-kix_58exd6kpdp5e-3>li:before{content:"\0025cf  "}.lst-kix_6qrci558is3n-5>li:before{content:"\0025a0  "}.lst-kix_6qrci558is3n-6>li:before{content:"\0025cf  "}.lst-kix_58exd6kpdp5e-4>li:before{content:"\0025cb  "}.lst-kix_kufqjegchkb-3>li:before{content:"\0025cf  "}.lst-kix_kufqjegchkb-4>li:before{content:"\0025cb  "}.lst-kix_58exd6kpdp5e-0>li:before{content:"\0025cf  "}.lst-kix_kufqjegchkb-7>li:before{content:"\0025cb  "}.lst-kix_qs0mourisqes-5>li:before{content:"\002022  "}.lst-kix_qs0mourisqes-4>li:before{content:"\002022  "}ul.lst-kix_kufqjegchkb-0{list-style-type:none}ul.lst-kix_kufqjegchkb-1{list-style-type:none}.lst-kix_qs0mourisqes-1>li:before{content:"\002022  "}ul.lst-kix_kufqjegchkb-4{list-style-type:none}ul.lst-kix_kufqjegchkb-5{list-style-type:none}ul.lst-kix_kufqjegchkb-2{list-style-type:none}ul.lst-kix_kufqjegchkb-3{list-style-type:none}.lst-kix_kufqjegchkb-8>li:before{content:"\0025a0  "}.lst-kix_ar67uz8iwr7a-7>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-7,lower-latin) ". "}.lst-kix_ar67uz8iwr7a-8>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-8,lower-roman) ". "}.lst-kix_qs0mourisqes-0>li:before{content:"\002022  "}.lst-kix_ar67uz8iwr7a-6>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-6}ul.lst-kix_sb4vqz99nyfy-0{list-style-type:none}.lst-kix_ar67uz8iwr7a-0>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-0,decimal) ". "}ul.lst-kix_c9tpr0fj7tej-2{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-1{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-4{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-7{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-3{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-8{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-6{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-5{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-5{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-6{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-8{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-3{list-style-type:none}ul.lst-kix_c9tpr0fj7tej-7{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-4{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-1{list-style-type:none}ul.lst-kix_sb4vqz99nyfy-2{list-style-type:none}.lst-kix_47tttymf62p6-3>li:before{content:"\0025cf  "}.lst-kix_sx82rlr3j9cq-5>li:before{content:"\0025a0  "}.lst-kix_9hkxgdhel5f8-0>li:before{content:"\002022  "}.lst-kix_9hkxgdhel5f8-1>li:before{content:"\002022  "}.lst-kix_sb4vqz99nyfy-6>li:before{content:"\0025cf  "}.lst-kix_sx82rlr3j9cq-6>li:before{content:"\0025cf  "}.lst-kix_sb4vqz99nyfy-5>li:before{content:"\0025a0  "}.lst-kix_47tttymf62p6-2>li:before{content:"\0025a0  "}.lst-kix_47tttymf62p6-6>li:before{content:"\0025cf  "}ol.lst-kix_ar67uz8iwr7a-6.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-6 0}.lst-kix_sx82rlr3j9cq-1>li:before{content:"\0025cb  "}.lst-kix_9hkxgdhel5f8-4>li:before{content:"\002022  "}.lst-kix_9hkxgdhel5f8-5>li:before{content:"\002022  "}.lst-kix_sb4vqz99nyfy-2>li:before{content:"\0025a0  "}.lst-kix_sx82rlr3j9cq-2>li:before{content:"\0025a0  "}.lst-kix_9hkxgdhel5f8-8>li:before{content:"\002022  "}.lst-kix_ar67uz8iwr7a-3>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-3,decimal) ". "}.lst-kix_ar67uz8iwr7a-4>li:before{content:"" counter(lst-ctn-kix_ar67uz8iwr7a-4,lower-latin) ". "}ul.lst-kix_iy0chlpcrb0g-8{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-4{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-5{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-6{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-7{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-0{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-1{list-style-type:none}ul.lst-kix_iy0chlpcrb0g-2{list-style-type:none}.lst-kix_3zh2r4rkm68i-6>li:before{content:"\0025cf  "}ul.lst-kix_iy0chlpcrb0g-3{list-style-type:none}ol.lst-kix_c9tpr0fj7tej-0{list-style-type:none}.lst-kix_c9tpr0fj7tej-6>li:before{content:"\002022  "}.lst-kix_c9tpr0fj7tej-2>li:before{content:"\002022  "}.lst-kix_3zh2r4rkm68i-2>li:before{content:"\0025a0  "}ol.lst-kix_ar67uz8iwr7a-5{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-4{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-3{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-8{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-2{list-style-type:none}.lst-kix_8i0n05m6ligj-1>li:before{content:"\0025cb  "}.lst-kix_no56xwv0h646-6>li:before{content:"\002022  "}.lst-kix_e9jrp5gtf8oc-0>li{counter-increment:lst-ctn-kix_e9jrp5gtf8oc-0}ol.lst-kix_ar67uz8iwr7a-8{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-7{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-6{list-style-type:none}.lst-kix_ar67uz8iwr7a-4>li{counter-increment:lst-ctn-kix_ar67uz8iwr7a-4}ul.lst-kix_rh1zhtiebfa7-2{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-3{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-0{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-1{list-style-type:none}.lst-kix_8i0n05m6ligj-5>li:before{content:"\0025a0  "}ol.lst-kix_ar67uz8iwr7a-1{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-6{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-0{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-7{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-4{list-style-type:none}ul.lst-kix_rh1zhtiebfa7-5{list-style-type:none}ol.lst-kix_ar67uz8iwr7a-8.start{counter-reset:lst-ctn-kix_ar67uz8iwr7a-8 0}.lst-kix_qnzs4zvhn9r3-6>li:before{content:"\002022  "}ul.lst-kix_sx82rlr3j9cq-8{list-style-type:none}ul.lst-kix_sx82rlr3j9cq-6{list-style-type:none}ul.lst-kix_sx82rlr3j9cq-7{list-style-type:none}ul.lst-kix_sx82rlr3j9cq-4{list-style-type:none}ul.lst-kix_sx82rlr3j9cq-5{list-style-type:none}ul.lst-kix_sx82rlr3j9cq-2{list-style-type:none}.lst-kix_j0hbfj4o7bs5-1>li:before{content:"\0025cb  "}.lst-kix_j0hbfj4o7bs5-5>li:before{content:"\0025a0  "}ul.lst-kix_sx82rlr3j9cq-3{list-style-type:none}.lst-kix_qnzs4zvhn9r3-2>li:before{content:"\002022  "}ul.lst-kix_sx82rlr3j9cq-0{list-style-type:none}.lst-kix_1zytx7tpqopf-2>li:before{content:"\0025aa  "}ul.lst-kix_sx82rlr3j9cq-1{list-style-type:none}.lst-kix_9pt4k56xfldo-3>li:before{content:"\0025cf  "}.lst-kix_1zytx7tpqopf-6>li:before{content:"\0025cf  "}.lst-kix_9pt4k56xfldo-7>li:before{content:"\0025cb  "}ul.lst-kix_e9jrp5gtf8oc-4{list-style-type:none}ul.lst-kix_e9jrp5gtf8oc-3{list-style-type:none}ul.lst-kix_e9jrp5gtf8oc-2{list-style-type:none}.lst-kix_qs0mourisqes-8>li:before{content:"\002022  "}ul.lst-kix_e9jrp5gtf8oc-1{list-style-type:none}ul.lst-kix_8i0n05m6ligj-6{list-style-type:none}ul.lst-kix_e9jrp5gtf8oc-8{list-style-type:none}ul.lst-kix_8i0n05m6ligj-7{list-style-type:none}ul.lst-kix_e9jrp5gtf8oc-7{list-style-type:none}ul.lst-kix_8i0n05m6ligj-4{list-style-type:none}ul.lst-kix_e9jrp5gtf8oc-6{list-style-type:none}ul.lst-kix_8i0n05m6ligj-5{list-style-type:none}ul.lst-kix_e9jrp5gtf8oc-5{list-style-type:none}.lst-kix_di2ecfkyzcc-7>li:before{content:"\0025cb  "}ul.lst-kix_8i0n05m6ligj-8{list-style-type:none}.lst-kix_e9jrp5gtf8oc-1>li:before{content:"\002022  "}.lst-kix_58exd6kpdp5e-7>li:before{content:"\0025cb  "}.lst-kix_c965wmvgwvjs-8>li:before{content:"\0025a0  "}ul.lst-kix_8i0n05m6ligj-2{list-style-type:none}ul.lst-kix_8i0n05m6ligj-3{list-style-type:none}.lst-kix_rh1zhtiebfa7-6>li:before{content:"\0025cf  "}ul.lst-kix_8i0n05m6ligj-0{list-style-type:none}ul.lst-kix_8i0n05m6ligj-1{list-style-type:none}.lst-kix_uw7djawsqb9r-3>li:before{content:"\002022  "}.lst-kix_c965wmvgwvjs-4>li:before{content:"\0025cb  "}.lst-kix_no56xwv0h646-2>li:before{content:"\002022  "}.lst-kix_di2ecfkyzcc-3>li:before{content:"\0025cf  "}.lst-kix_e9jrp5gtf8oc-5>li:before{content:"\002022  "}.lst-kix_sr3gv86tjvoq-7>li:before{content:"\0025cb  "}.lst-kix_iffb1o1467lh-5>li:before{content:"\0025a0  "}ul.lst-kix_c965wmvgwvjs-5{list-style-type:none}ul.lst-kix_1zytx7tpqopf-2{list-style-type:none}ul.lst-kix_c965wmvgwvjs-6{list-style-type:none}ul.lst-kix_1zytx7tpqopf-3{list-style-type:none}.lst-kix_c965wmvgwvjs-0>li:before{content:"\0025cf  "}ul.lst-kix_c965wmvgwvjs-7{list-style-type:none}ul.lst-kix_1zytx7tpqopf-4{list-style-type:none}ul.lst-kix_c965wmvgwvjs-8{list-style-type:none}ul.lst-kix_1zytx7tpqopf-5{list-style-type:none}.lst-kix_rh1zhtiebfa7-2>li:before{content:"\0025a0  "}ul.lst-kix_1zytx7tpqopf-0{list-style-type:none}ul.lst-kix_1zytx7tpqopf-1{list-style-type:none}.lst-kix_iffb1o1467lh-1>li:before{content:"\0025cb  "}ul.lst-kix_c965wmvgwvjs-0{list-style-type:none}ul.lst-kix_c965wmvgwvjs-1{list-style-type:none}ul.lst-kix_1zytx7tpqopf-6{list-style-type:none}ul.lst-kix_c965wmvgwvjs-2{list-style-type:none}ul.lst-kix_1zytx7tpqopf-7{list-style-type:none}ul.lst-kix_c965wmvgwvjs-3{list-style-type:none}ul.lst-kix_1zytx7tpqopf-8{list-style-type:none}ul.lst-kix_c965wmvgwvjs-4{list-style-type:none}.lst-kix_sr3gv86tjvoq-3>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c286{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:172.9pt;border-top-color:#000000;border-bottom-style:solid}.c208{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:261.8pt;border-top-color:#000000;border-bottom-style:solid}.c15{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:263.9pt;border-top-color:#000000;border-bottom-style:solid}.c188{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:169.9pt;border-top-color:#000000;border-bottom-style:solid}.c100{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:172.9pt;border-top-color:#000000;border-bottom-style:solid}.c93{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:266.2pt;border-top-color:#000000;border-bottom-style:solid}.c136{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:163.7pt;border-top-color:#000000;border-bottom-style:solid}.c203{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:138.3pt;border-top-color:#000000;border-bottom-style:solid}.c65{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:285pt;border-top-color:#000000;border-bottom-style:solid}.c84{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:285pt;border-top-color:#000000;border-bottom-style:solid}.c185{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:163.7pt;border-top-color:#000000;border-bottom-style:solid}.c152{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:111pt;border-top-color:#000000;border-bottom-style:solid}.c180{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:109.5pt;border-top-color:#000000;border-bottom-style:solid}.c29{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:111pt;border-top-color:#000000;border-bottom-style:solid}.c245{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:111pt;border-top-color:#000000;border-bottom-style:solid}.c72{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:266.2pt;border-top-color:#000000;border-bottom-style:solid}.c57{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:138.3pt;border-top-color:#000000;border-bottom-style:solid}.c238{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:169.9pt;border-top-color:#000000;border-bottom-style:solid}.c288{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:263.9pt;border-top-color:#000000;border-bottom-style:solid}.c37{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:131.2pt;border-top-color:#000000;border-bottom-style:solid}.c39{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:169.9pt;border-top-color:#000000;border-bottom-style:solid}.c254{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:263.9pt;border-top-color:#000000;border-bottom-style:solid}.c268{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:261.8pt;border-top-color:#000000;border-bottom-style:solid}.c225{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:285pt;border-top-color:#000000;border-bottom-style:solid}.c290{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:131.2pt;border-top-color:#000000;border-bottom-style:solid}.c164{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:172.9pt;border-top-color:#000000;border-bottom-style:solid}.c283{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:397.5pt;border-top-color:#000000;border-bottom-style:solid}.c198{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:163.7pt;border-top-color:#000000;border-bottom-style:solid}.c269{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:109.5pt;border-top-color:#000000;border-bottom-style:solid}.c91{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:261.8pt;border-top-color:#000000;border-bottom-style:solid}.c219{border-right-style:solid;border-bottom-color:#000000;border-top-width:1pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:109.5pt;border-top-color:#000000;border-bottom-style:solid}.c256{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:131.2pt;border-top-color:#000000;border-bottom-style:solid}.c201{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:266.2pt;border-top-color:#000000;border-bottom-style:solid}.c240{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:396pt;border-top-color:#000000;border-bottom-style:solid}.c109{border-right-style:solid;border-bottom-color:#000000;border-top-width:0pt;border-right-width:0pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:0pt;border-top-style:solid;border-left-style:solid;border-bottom-width:0pt;width:138.3pt;border-top-color:#000000;border-bottom-style:solid}.c22{margin-left:39.1pt;padding-top:0.1pt;text-indent:-28.4pt;padding-bottom:0pt;line-height:1.0083333333333333;text-align:left;margin-right:22.9pt;height:11pt}.c36{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c46{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c24{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c58{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c17{background-color:#1e1e1e;padding-top:0pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c3{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c52{margin-left:36pt;padding-top:2.6pt;padding-left:0pt;padding-bottom:0pt;line-height:1.0;text-align:justify;margin-right:-2pt}.c34{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c173{padding-top:18pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:left;margin-right:14.7pt}.c105{padding-top:18pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify;margin-right:21.1pt}.c141{margin-left:12.1pt;padding-top:12.9pt;padding-bottom:0pt;line-height:1.2;text-align:center;margin-right:12pt}.c222{margin-left:12.1pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:center;margin-right:12.4pt}.c138{margin-left:28.7pt;padding-top:1.4pt;padding-left:6.1pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c41{padding-top:4.5pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:justify}.c63{margin-left:10.8pt;padding-top:2.6pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:-2pt}.c192{padding-top:18pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify;margin-right:14.7pt}.c206{padding-top:16pt;padding-bottom:4pt;line-height:1.2083333333333333;page-break-after:avoid;text-align:justify;margin-right:11.7pt}.c153{margin-left:-7.1pt;padding-top:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:justify}.c234{padding-top:8.8pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify;margin-right:11.3pt}.c8{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c45{margin-left:19.9pt;padding-top:0pt;text-indent:-5.4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c55{margin-left:10.8pt;padding-top:0pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:14.7pt}.c289{margin-left:12.1pt;padding-top:17.9pt;padding-bottom:0pt;line-height:1.0;text-align:center;margin-right:12.2pt}.c209{margin-left:134.6pt;padding-top:0pt;text-indent:2.2pt;padding-bottom:0pt;line-height:1.0166666666666666;text-align:left}.c135{margin-left:28.7pt;padding-top:2.5pt;padding-left:6.1pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c40{padding-top:10.7pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify;margin-right:19.7pt}.c95{margin-left:8.7pt;padding-top:0pt;text-indent:-5.4pt;padding-bottom:0pt;line-height:1.2041666666666666;text-align:left}.c59{margin-left:10.8pt;padding-top:18.3pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:11.7pt}.c12{margin-left:2.7pt;padding-top:1.6pt;text-indent:-5.4pt;padding-bottom:0pt;line-height:1.1208333333333333;text-align:left}.c276{padding-top:1.4pt;text-indent:-24pt;padding-bottom:0pt;line-height:1.0999999999999999;text-align:justify;margin-right:27.1pt}.c193{margin-left:134.6pt;padding-top:0pt;text-indent:-5.2pt;padding-bottom:0pt;line-height:1.2041666666666666;text-align:left}.c139{margin-left:-7.1pt;padding-top:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:left}.c280{padding-top:9pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify;margin-right:10.1pt}.c82{padding-top:2.5pt;padding-bottom:0pt;line-height:1.0;text-align:left;margin-right:-2pt}.c179{padding-top:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:justify}.c255{padding-top:10.6pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:14.2pt}.c67{padding-top:2.6pt;padding-bottom:0pt;line-height:1.0;text-align:justify;margin-right:-2pt}.c166{padding-top:10.5pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:22.9pt}.c195{margin-left:5.4pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1833333333333333;text-align:left}.c217{padding-top:2.8pt;padding-bottom:0pt;line-height:1.2583333333333333;text-align:left;margin-right:28.8pt}.c259{margin-left:2.7pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0166666666666666;text-align:left}.c60{padding-top:0.3pt;padding-bottom:0pt;line-height:1.0;text-align:justify;margin-right:-2pt}.c27{padding-top:0.1pt;padding-bottom:0pt;line-height:1.0083333333333333;text-align:left;margin-right:22.9pt}.c175{margin-left:5.4pt;padding-top:1.4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c159{margin-left:2.7pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1833333333333333;text-align:left}.c168{margin-left:5.4pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0166666666666666;text-align:left}.c197{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:justify}.c211{padding-top:8.8pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:11.3pt}.c80{padding-top:8.9pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:-2pt}.c215{padding-top:4.5pt;padding-bottom:4pt;line-height:1.0;page-break-after:avoid;text-align:left}.c272{padding-top:0pt;padding-bottom:0pt;line-height:1.0166666666666666;text-align:center;margin-right:5.3pt}.c132{margin-left:36pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c274{padding-top:9.2pt;padding-bottom:6pt;line-height:1.2166666666666666;page-break-after:avoid;text-align:justify}.c147{padding-top:0pt;padding-bottom:0pt;line-height:1.2;text-align:left;margin-right:14.7pt}.c214{margin-left:8.7pt;padding-top:1.4pt;padding-bottom:0pt;line-height:1.1208333333333333;text-align:left}.c81{padding-top:1.6pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:left}.c102{margin-left:5.4pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1875;text-align:left}.c220{background-color:#1e1e1e;padding-top:0pt;padding-bottom:12pt;line-height:1.0;text-align:left}.c110{padding-top:10.7pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:19.7pt}.c241{padding-top:9.2pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:10.1pt}.c113{padding-top:9.4pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:32.8pt}.c149{margin-left:5.4pt;padding-top:0pt;padding-bottom:0pt;line-height:1.2041666666666666;text-align:left}.c107{margin-left:5.4pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0875000000000001;text-align:left}.c285{margin-left:2.8pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1833333333333333;text-align:left}.c160{padding-top:0pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:13.6pt}.c227{-webkit-text-decoration-skip:none;color:#000080;text-decoration:underline;text-decoration-skip-ink:none;font-family:"Menlo"}.c237{padding-top:2.6pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify}.c275{margin-left:2.8pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1875;text-align:left}.c246{padding-top:20pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:left}.c28{padding-top:9.2pt;padding-bottom:0pt;line-height:1.2166666666666666;text-align:justify;margin-right:-2pt}.c161{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:justify}.c262{padding-top:0.1pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:21.4pt}.c261{margin-left:8.7pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1916666666666667;text-align:left}.c13{padding-top:9pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:10.1pt}.c76{padding-top:0.1pt;padding-bottom:0pt;line-height:1.0;text-align:justify;margin-right:-2pt}.c48{margin-left:9.3pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c287{margin-left:5.4pt;padding-top:1.6pt;padding-bottom:0pt;line-height:1.1208333333333333;text-align:left}.c257{margin-left:2.8pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0166666666666666;text-align:left}.c86{padding-top:9.4pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:17.4pt}.c248{margin-left:8.7pt;padding-top:0pt;padding-bottom:0pt;line-height:1.0166666666666666;text-align:left}.c116{padding-top:9.4pt;padding-bottom:0pt;line-height:1.2;text-align:left;margin-right:44.3pt}.c263{padding-top:7.8pt;padding-bottom:0pt;line-height:1.2;text-align:left;margin-right:11.9pt}.c140{padding-top:9.4pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:5pt}.c146{margin-left:8.7pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1875;text-align:left}.c273{padding-top:2.8pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:justify}.c169{margin-left:5.4pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1916666666666667;text-align:left}.c97{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c121{padding-top:0pt;padding-bottom:0pt;line-height:1.0875000000000001;text-align:center;margin-right:8.7pt}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;text-align:left;height:11pt}.c104{padding-top:20pt;padding-bottom:6pt;line-height:1.2;page-break-after:avoid;text-align:justify}.c75{padding-top:0pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:14.7pt}.c167{padding-top:18pt;padding-bottom:6pt;line-height:1.0;page-break-after:avoid;text-align:left}.c284{padding-top:9.3pt;padding-bottom:0pt;line-height:1.2;text-align:justify;margin-right:12.4pt}.c235{margin-left:2.7pt;padding-top:0pt;padding-bottom:0pt;line-height:1.1875;text-align:left}.c249{padding-top:0.1pt;padding-bottom:6pt;line-height:1.0083333333333333;page-break-after:avoid;text-align:left}.c14{color:#000000;font-weight:400;font-size:7pt;font-family:"Carlito"}.c233{padding-top:9.2pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c187{padding-top:9pt;padding-bottom:0pt;line-height:1.2;text-align:justify}.c230{padding-top:2.5pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c108{padding-top:0pt;padding-bottom:0pt;line-height:1.2083333333333333;text-align:justify}.c182{padding-top:9pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c21{background-color:#f8f8f8;font-size:12pt;color:#ce5c00;font-weight:700}.c20{color:#000000;font-weight:700;font-size:11pt;font-family:"Arial"}.c114{padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c89{font-size:9pt;font-family:"Menlo";color:#b5cea8;font-weight:400}.c171{padding-top:10.7pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c4{font-size:9pt;font-family:"Menlo";color:#ce9178;font-weight:400}.c129{padding-top:9.2pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c68{font-size:9pt;font-family:"Menlo";color:#6a9955;font-weight:400}.c142{padding-top:2.9pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c150{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c174{padding-top:10pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c0{font-size:9pt;font-family:"Menlo";color:#9cdcfe;font-weight:400}.c120{padding-top:2.5pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c253{padding-top:0pt;padding-bottom:0pt;line-height:1.0999999999999999;text-align:justify}.c125{padding-top:2.5pt;padding-bottom:0pt;line-height:1.8;text-align:justify}.c56{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c137{padding-top:2.8pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c228{padding-top:0.1pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c143{padding-top:2.6pt;padding-bottom:0pt;line-height:1.2083333333333333;text-align:justify}.c115{padding-top:0.6pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c1{font-size:9pt;font-family:"Menlo";color:#569cd6;font-weight:400}.c145{padding-top:0.2pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c279{padding-top:5.8pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c266{padding-top:10pt;padding-bottom:4pt;line-height:1.0;text-align:left}.c54{padding-top:0.2pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c6{font-size:9pt;font-family:"Menlo";color:#d4d4d4;font-weight:400}.c177{padding-top:0pt;padding-bottom:0pt;line-height:1.2;text-align:justify}.c66{margin-left:5.8pt;border-spacing:0;border-collapse:collapse;margin-right:auto}.c10{padding-top:2.8pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c50{padding-top:2.6pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c204{padding-top:9.1pt;padding-bottom:0pt;line-height:1.2;text-align:justify}.c32{font-size:9pt;font-family:"Menlo";color:#dcdcaa;font-weight:400}.c264{padding-top:1.6pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c11{color:#000000;font-weight:400;font-size:20pt;font-family:"Arial"}.c165{padding-top:9.1pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c18{color:#000000;font-weight:400;font-size:9.5pt;font-family:"Carlito"}.c92{padding-top:4.7pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c244{padding-top:1.6pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c213{padding-top:1.4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c98{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline}.c199{padding-top:0pt;padding-bottom:0pt;line-height:1.0875000000000001;text-align:left}.c53{padding-top:0.3pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c47{font-size:9pt;font-family:"Menlo";color:#808080;font-weight:400}.c79{padding-top:4.5pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c247{padding-top:0.5pt;padding-bottom:0.1pt;line-height:1.0;text-align:left}.c223{padding-top:0.1pt;padding-bottom:0.1pt;line-height:1.0;text-align:left}.c62{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c186{padding-top:9.5pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c124{font-size:24pt;font-family:"Caladea";color:#252525;font-weight:400}.c51{padding-top:0.5pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c133{padding-top:2.6pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c123{padding-top:0.5pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c226{padding-top:9pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c16{color:#000000;font-weight:400;font-size:11pt;font-family:"Carlito"}.c96{padding-top:4pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c128{padding-top:0.3pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c64{padding-top:0.4pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c184{padding-top:0.1pt;padding-bottom:0pt;line-height:1.0083333333333333;text-align:justify}.c154{padding-top:9.4pt;padding-bottom:0pt;line-height:1.2;text-align:justify}.c69{padding-top:2.6pt;padding-bottom:0pt;line-height:1.2;text-align:justify}.c181{padding-top:2.5pt;padding-bottom:0pt;line-height:1.0999999999999999;text-align:justify}.c265{padding-top:0pt;padding-bottom:0pt;line-height:1.25;text-align:justify}.c260{padding-top:9.2pt;padding-bottom:0pt;line-height:1.25;text-align:justify}.c194{padding-top:0.4pt;padding-bottom:0pt;line-height:1.0;text-align:justify}.c78{font-family:"Times New Roman";font-style:italic;font-weight:400}.c90{font-weight:400;font-size:6pt;font-family:"Arial"}.c33{font-weight:400;font-size:12pt;font-family:"Arial"}.c83{font-family:"Menlo";color:#4f6228;font-weight:400}.c163{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c9{font-size:12pt;font-family:"Carlito";font-weight:400}.c19{font-family:"Carlito";color:#4f81bc;font-weight:400}.c252{font-size:9pt;font-family:"Menlo";color:#c586c0}.c42{font-weight:700;font-size:11pt;font-family:"Carlito"}.c7{text-decoration:none;vertical-align:baseline;font-style:normal}.c281{font-size:24pt;font-family:"Caladea"}.c74{orphans:2;widows:2}.c77{font-size:46pt;font-family:"Caladea"}.c134{font-size:11.5pt;font-family:"Carlito"}.c30{padding:0;margin:0}.c119{color:#434343;font-size:14pt}.c103{font-weight:400;font-family:"Arial"}.c151{text-decoration:none;vertical-align:baseline}.c44{font-size:12pt;font-family:"Carlito"}.c131{color:#1f4986;font-family:"Arial"}.c190{margin-left:28.7pt;padding-left:6.1pt}.c176{margin-left:28.8pt;padding-left:6pt}.c25{color:inherit;text-decoration:inherit}.c229{font-size:28pt;font-family:"Caladea"}.c26{font-weight:400;font-family:"Carlito"}.c112{margin-left:36pt;padding-left:0pt}.c271{margin-right:11.7pt}.c282{font-size:9pt}.c157{font-family:"Carlito"}.c196{font-size:3.5pt}.c71{height:16.1pt}.c38{height:11pt}.c251{margin-left:35.4pt}.c231{margin-left:-7.1pt}.c221{margin-left:36pt}.c155{height:13.6pt}.c70{margin-left:10.8pt}.c243{height:164pt}.c31{background-color:#f8f8f8}.c189{font-size:8pt}.c122{font-size:16pt}.c172{font-weight:400}.c270{height:22.5pt}.c156{height:30.2pt}.c278{color:#585858}.c178{color:#1f4986}.c87{color:#4e9a05}.c94{margin-right:-2pt}.c35{height:16pt}.c85{margin-right:20.8pt}.c267{font-size:5.5pt}.c202{height:14pt}.c232{margin-left:13.8pt}.c61{font-size:12pt}.c205{font-family:"Times New Roman"}.c130{font-size:9.5pt}.c99{font-size:10pt}.c127{font-size:8.5pt}.c212{margin-right:60.8pt}.c117{height:20pt}.c23{color:#000000}.c144{font-size:4.5pt}.c191{margin-right:21.1pt}.c200{font-size:7.5pt}.c101{color:#c49f00}.c43{font-weight:700}.c158{height:32.3pt}.c170{margin-right:22.9pt}.c218{margin-right:5pt}.c242{margin-right:-2.2pt}.c106{color:#8f5801}.c111{margin-left:34.8pt}.c88{color:#666666}.c236{height:13.5pt}.c239{height:30.1pt}.c250{height:6pt}.c126{margin-right:14.1pt}.c207{height:16.2pt}.c258{height:13.7pt}.c118{text-indent:-5.4pt}.c210{margin-right:-63.5pt}.c148{margin-right:11pt}.c224{font-size:11pt}.c49{color:#4f81bc}.c183{font-family:"Courier New"}.c162{height:14.1pt}.c73{margin-left:9.3pt}.c216{margin-right:31.8pt}.c277{text-indent:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c163"><p class="c56"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 152.00px;"><img alt="" src="images/image40.jpg" style="width: 602.00px; height: 152.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c38 c56"><span class="c7 c172 c205 c99 c23"></span></p><p class="c141 title"><span class="c229 c43 c278">WebGIS Development (Frontend)</span></p><p class="c54 c38"><span class="c7 c23 c43 c77"></span></p><p class="c74 c222"><span class="c124">Luca Battistella</span></p><p class="c289"><span class="c2">26 May, 2020</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c114 c74"><span class="c20 c7"><a class="c25" href="#h.c0t4ctfr8tub">1. JavaScript - A modern approach</a></span><span class="c7 c20">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c20 c7"><a class="c25" href="#h.c0t4ctfr8tub">4</a></span></p><p class="c24"><span class="c2"><a class="c25" href="#h.mz0w1slh6f02">1.1 Find HTML elements</a></span><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c2"><a class="c25" href="#h.mz0w1slh6f02">5</a></span></p><p class="c24"><span><a class="c25" href="#h.rfnwnetlpo7p">1.2 Change HTML elements</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.rfnwnetlpo7p">7</a></span></p><p class="c24"><span><a class="c25" href="#h.nes5wqxo38lz">1.3 Interact with HTML elements</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.nes5wqxo38lz">7</a></span></p><p class="c24"><span><a class="c25" href="#h.9jfsb6tj9vno">1.4 Model View Controller</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.9jfsb6tj9vno">9</a></span></p><p class="c24"><span><a class="c25" href="#h.hmn73k45s06z">1.5 Linking DOM and MVC</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.hmn73k45s06z">10</a></span></p><p class="c24"><span><a class="c25" href="#h.fqeaia5hx969">1.6 Exercise</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.fqeaia5hx969">10</a></span></p><p class="c24"><span><a class="c25" href="#h.w39l555v1sza">1.7 Summary</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.w39l555v1sza">12</a></span></p><p class="c174 c74"><span class="c43"><a class="c25" href="#h.s1sqeuq2u8ng">2. JS Libraries</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.s1sqeuq2u8ng">12</a></span></p><p class="c24"><span><a class="c25" href="#h.kgmd7ueh6x7h">2.1 Geospatial libraries</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.kgmd7ueh6x7h">12</a></span></p><p class="c24"><span><a class="c25" href="#h.2bbyss6l07rn">2.2 OpenLayers library</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.2bbyss6l07rn">13</a></span></p><p class="c74 c132"><span><a class="c25" href="#h.qrm29z2xb18z">2.2.1 Load the library</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.qrm29z2xb18z">13</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.gpdzlfac288a">2.2.4 Add vector features</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.gpdzlfac288a">14</a></span></p><p class="c24"><span><a class="c25" href="#h.e5lalec8naqa">2.3 Documentation</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.e5lalec8naqa">17</a></span></p><p class="c74 c174"><span class="c43"><a class="c25" href="#h.1xm11xa1yvm4">3. JS Frameworks</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.1xm11xa1yvm4">17</a></span></p><p class="c24"><span><a class="c25" href="#h.k5z516v47pb7">3.1 Linking frameworks and libraries</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.k5z516v47pb7">17</a></span></p><p class="c24"><span><a class="c25" href="#h.rxodv9wcf7m4">3.2 Angular JS</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.rxodv9wcf7m4">18</a></span></p><p class="c24"><span><a class="c25" href="#h.rrn1e3h3t1j0">3.3 AngularJS resources</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.rrn1e3h3t1j0">18</a></span></p><p class="c24"><span><a class="c25" href="#h.hib1043bo7vx">3.4 Hello World! with AngularJS</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.hib1043bo7vx">19</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.mketpsk6p7jw">3.4.1 Load the new library / source-code into your code</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.mketpsk6p7jw">19</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.z5abono47fw4">3.4.2 Bootstrapping</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.z5abono47fw4">19</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.agjrdt5t638l">3.4.3 Data binding</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.agjrdt5t638l">20</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.vlnulf29pz5s">3.4.4 Validate the input</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.vlnulf29pz5s">21</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.kwqybm2fb6gi">3.4.5 Add a Controller</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.kwqybm2fb6gi">21</a></span></p><p class="c24"><span><a class="c25" href="#h.9hq4zh4jdzuk">3.5 Exercise</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.9hq4zh4jdzuk">23</a></span></p><p class="c174 c74"><span class="c43"><a class="c25" href="#h.3fnin7l988og">4. Service endpoints</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.3fnin7l988og">24</a></span></p><p class="c24"><span><a class="c25" href="#h.qb1vy7uyerpk">4.1 Service Endpoints</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.qb1vy7uyerpk">24</a></span></p><p class="c24"><span><a class="c25" href="#h.7192845cwylo">4.2 An example: geocoding service by MapQuest</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.7192845cwylo">26</a></span></p><p class="c24"><span><a class="c25" href="#h.fliie8xpsxoa">4.3 JSON data format</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.fliie8xpsxoa">27</a></span></p><p class="c24"><span><a class="c25" href="#h.u9o0z9kzznnq">4.4 Summary</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.u9o0z9kzznnq">29</a></span></p><p class="c174 c74"><span class="c43"><a class="c25" href="#h.7mrtiy6c2fjz">5 Requesting data with Ajax</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.7mrtiy6c2fjz">29</a></span></p><p class="c24"><span><a class="c25" href="#h.dedwsqvykn8s">5.1 AJAX</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.dedwsqvykn8s">30</a></span></p><p class="c24"><span><a class="c25" href="#h.vfmbnfapnm4y">5.2 jQuery library</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.vfmbnfapnm4y">30</a></span></p><p class="c24"><span><a class="c25" href="#h.8fswxg8x72cg">5.3 Geocoding example</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.8fswxg8x72cg">31</a></span></p><p class="c132 c74"><span><a class="c25" href="#h.85gi7g33wgb7">5.3.1 Interactive geocoding box</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.85gi7g33wgb7">31</a></span></p><p class="c24"><span><a class="c25" href="#h.4sk70eiso3ys">5.4 Exercise</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.4sk70eiso3ys">34</a></span></p><p class="c174 c74"><span class="c43"><a class="c25" href="#h.il83yv9kgx3y">6. Using Web-browsers for debugging JS</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.il83yv9kgx3y">35</a></span></p><p class="c24"><span><a class="c25" href="#h.7x52zczbeyvt">6.1 Open the developer tools</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.7x52zczbeyvt">36</a></span></p><p class="c24"><span><a class="c25" href="#h.ccjthsjem80x">6.2 Sources</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.ccjthsjem80x">36</a></span></p><p class="c24"><span><a class="c25" href="#h.62czwq54ucll">6.3 Breakpoints</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.62czwq54ucll">37</a></span></p><p class="c24"><span><a class="c25" href="#h.n34frqnokxef">6.4 Console</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.n34frqnokxef">39</a></span></p><p class="c24"><span><a class="c25" href="#h.4wyear48xvt6">6.5 Summary</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.4wyear48xvt6">41</a></span></p><p class="c174 c74"><span class="c43"><a class="c25" href="#h.ao2bbbb845x">7. Bringing it all together</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.ao2bbbb845x">41</a></span></p><p class="c24"><span><a class="c25" href="#h.aunrljdq69yk">7.1 Software architecture</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.aunrljdq69yk">41</a></span></p><p class="c24"><span><a class="c25" href="#h.3fy61dg576a3">7.2 CRC model</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.3fy61dg576a3">42</a></span></p><p class="c24"><span><a class="c25" href="#h.dpckgl4kgd63">7.3 Sketching function</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.dpckgl4kgd63">43</a></span></p><p class="c24"><span><a class="c25" href="#h.35a2ubn0wb1z">7.4 Summary</a></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span><a class="c25" href="#h.35a2ubn0wb1z">44</a></span></p><p class="c74 c266"><span class="c43"><a class="c25" href="#h.6pc8jwo5j1yu">8 FOSS Application</a></span><span class="c43">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c43"><a class="c25" href="#h.6pc8jwo5j1yu">44</a></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><h1 class="c97 c74 c117" id="h.n8yhj7va99if"><span class="c11 c7"></span></h1><h1 class="c97 c74 c117" id="h.cmdlhwgzwcm"><span class="c11 c7"></span></h1><h1 class="c97 c74 c117" id="h.a6g9bbennmvr"><span class="c11 c7"></span></h1><h1 class="c97 c74 c117" id="h.6bbyv7hwgis4"><span class="c7 c11"></span></h1><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><h1 class="c74 c97" id="h.c0t4ctfr8tub"><span class="c11 c7">1. JavaScript - A modern approach&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">This lesson is all about getting started and we will take a deeper look at a website and the structure behind it. We will learn about the fundamental Document Object Model and how to work with it to manipulate the visual representation of a website that you can view in your browser. Last but not least, we&rsquo;ll talk about the Model View Controller paradigm so that we have a better understanding about key concepts of website/webservice/application development.</span></p><p class="c8"><span class="c2">In the last few days you probably have browsed the web to shop on amazon, kept yourself up to date with the latest news on CNN or you were searching the Unipd website.</span></p><p class="c8"><span class="c2">Now, let me ask you a question: What is the structural similarity among these web pages?</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">CNN, Unipd, Amazon and any other website for that matter all have a similar structural hierarchy in the background. In the figure below, you can see an exemplary tree structure of an html document that organises a website into different hierarchical layers. When you take a deeper look into the tree structure you find the familiar html tags. Each tag defines an element in the html document, e.g. &lt;html&gt; &lt;/html&gt;, &lt;body&gt; &lt;/body&gt; or &lt;title&gt; &lt;/title&gt;. Each of these elements is one hierarchical layer. The root element of a webpage is the &lt;html&gt; tag.</span></p><p class="c8"><span class="c2">From this the different nested layers extend, taking the root element as its connecting element.</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c56 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 386.67px; height: 417.33px;"><img alt="The Document Object Model is the organisational structure of a website." src="images/image49.png" style="width: 386.67px; height: 417.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10 c74 c70"><span class="c78 c151 c61 c23">The Document Object Model is the organisational structure of a website.</span></p><p class="c10 c74 c38 c70"><span class="c2"></span></p><p class="c137 c74"><span class="c2">This underlying structure is called Document Object Model (DOM). The DOM outlines the structure of the elements that together form the content of a specific HTML or XML document. As such it is an essential concept in the framework of the World Wide Web. The DOM could be formally described as a logical structure that provides access to the elements in a website.</span></p><p class="c137 c74"><span class="c2">The DOM was created by the W3C organization to fix the inconsistency of the newly introduced dynamic HTML. Dynamic HTML was a way of interacting with elements in the HTML document using JavaScript. The main issue of the dynamic HTML was the fact that each browser had its own HTML type and developers ended up in writing the same document in several different versions to fit the variety of existing browsers.</span></p><p class="c137 c74"><span class="c2">The introduction of the DOM in 1998 forms a milestone for working with HTML documents. JavaScript has continued to be the preferred language to access and interact with document elements. However, with the advent of the DOM it changed to a browser independent programming interface. The DOM serves as the Application Programming Interface (API) that enables a developer to access and interact with HTML and XML. We can edit the structure, add and delete elements, modify them or query the value of a certain element. You can imagine the DOM API as the connecting element between the elements of a (HTML-) document and your code.</span></p><p class="c74 c137"><span class="c2">Javascript can use the DOM as an API to find, change and interact with HTML elements.</span></p><p class="c137 c74 c38 c70"><span class="c2"></span></p><p class="c137 c74 c38 c70"><span class="c2"></span></p><h2 class="c74 c273" id="h.mz0w1slh6f02"><span>1.1 </span><span class="c7 c103 c122 c23">Find HTML elements</span></h2><p class="c10 c74 c38 c70"><span class="c78 c151 c61 c23"></span></p><p class="c62"><span class="c2">Let&rsquo;s consider you have a simple website (i.e. an HTML document) and specifically you want to refer back to the first paragraph of this website. Below, you can see an HTML document with an embedded JS code that interacts with the DOM. Between the script tags &lt;script&gt; &lt;/script&gt; you find the actual JavaScript:</span></p><p class="c62 c38 c70"><span class="c2"></span></p><p class="c62 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 592.50px; height: 296.00px;"><img alt="" src="images/image50.png" style="width: 592.50px; height: 296.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c62 c38 c70"><span class="c2"></span></p><p class="c62 c38 c70"><span class="c2"></span></p><p class="c62 c38 c70"><span class="c2"></span></p><p class="c241"><span>So, this line of code retrieves the </span><span class="c31">&lt;p&gt; &lt;/p&gt;</span><span class="c2">&nbsp;tags, which are html paragraph elements, and assigns them to the variable x. So, the variable x holds a list of paragraphs.</span></p><p class="c187 c212"><span class="c2">Now the second line of code. This is a long one - in JavaScript the end of a codel-line is determined by the semicolon:</span></p><p class="c128 c38"><span class="c2"></span></p><p class="c69"><span class="c31">document.getElementById(&quot;demo&quot;).innerHTML = &#39;The first paragraph (index 0) is: &#39; +</span><span>&nbsp;</span><span class="c31">x[0].innerHTML;</span></p><p class="c128 c38"><span class="c2"></span></p><ul class="c30 lst-kix_no56xwv0h646-0 start"><li class="c135"><span class="c31">Document</span><span class="c2">&nbsp;reference to the HTML Document</span></li><li class="c138"><span class="c31">getElementById</span><span class="c2">&nbsp;the Element with the ID &ldquo;demo&rdquo; is identified</span></li><li class="c138"><span class="c31">innerHTML</span><span class="c2">&nbsp;accesses the text between tags</span></li></ul><p class="c255"><span class="c2">This first code part references the content between the tags of the last paragraph (the one with the id=&ldquo;demo&rdquo;). The right side of the equation will assign this content:</span></p><p class="c145 c38"><span class="c2"></span></p><ul class="c30 lst-kix_no56xwv0h646-0"><li class="c135"><span class="c31">&#39;The first paragraph (index 0) is: &#39;</span><span class="c2">&nbsp;some text between quotes</span></li></ul><p class="c111 c276"><span>&bull;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c31">+ x[0].innerHTML</span><span>&nbsp;this is the content between the paragraph tags (inner html) of the first element (</span><span class="c31">[0]</span><span class="c2">) in the paragraph-list of the x variable.</span></p><p class="c233"><span>together this reads: &ldquo;The first paragraph (index 0) is: Hello World!&rdquo;</span></p><p class="c62 c38 c70"><span class="c2"></span></p><p class="c62"><span class="c2">To check the result of this html document, you can copy &amp; paste the code into a text editor (e.g. Notepad++), save it as .html file and drag and drop the file into your web-browser. This is what your browser will display:</span></p><p class="c62 c38 c70"><span class="c2"></span></p><p class="c56 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 620.55px; height: 135.50px;"><img alt="" src="images/image36.png" style="width: 620.55px; height: 135.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c56 c38 c70"><span class="c7 c26 c99 c23"></span></p><h2 class="c167" id="h.rfnwnetlpo7p"><span>1.2 </span><span class="c7 c103 c122 c23">Change HTML elements</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c34"><span class="c2">Consider this script:</span></p><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 458.50px; height: 136.00px;"><img alt="" src="images/image39.png" style="width: 458.50px; height: 136.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c70 c217"><span>This script changes the inner HTML of the paragraph with the id=&ldquo;p1&rdquo; to the text on the right side of the </span><span class="c31">=</span><span class="c2">, i.e. &ldquo;New Text!&rdquo;.</span></p><p class="c70 c263"><span class="c2">Can you anticipate, how the output looks like? Check, whether you are right by saving the above code-lines as a html file and open it with your browser.</span></p><p class="c70 c182"><span class="c2">Other methods to change HTML Elements:</span></p><p class="c54 c38"><span class="c2"></span></p><ul class="c30 lst-kix_9hkxgdhel5f8-0 start"><li class="c50 c190"><span class="c31">element.innerHTML = new html content</span><span class="c2">&nbsp;change the inner HTML of an element</span></li></ul><p class="c213 c111"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 197.67px; height: 19.53px;"><img alt="" src="images/image22.png" style="width: 197.67px; height: 19.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c213 c111"><span class="c2">change the attribute value of an HTML element</span></p><ul class="c30 lst-kix_9hkxgdhel5f8-0"><li class="c190 c213"><span class="c31">element.setAttribute(attribute, value)</span><span class="c2">&nbsp;change the attribute value of an HTML element</span></li><li class="c190 c244"><span class="c31">element.style.property = new style</span><span class="c2">&nbsp;change the style</span></li></ul><p class="c244 c38"><span class="c2"></span></p><p class="c244 c38"><span class="c2"></span></p><h2 class="c81" id="h.nes5wqxo38lz"><span>1.3 </span><span class="c7 c103 c122 c23">Interact with HTML elements</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c160"><span class="c61">Let&rsquo;s consider the following scenario: you are creating a webpage and you want to have a night</span><span class="c9 c7 c23">- mode for your page so that the user can change the general color scheme of the text. This is the according JS code, embedded in the html:</span></p><p class="c160"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 172.87px;"><img alt="" src="images/image34.png" style="width: 632.00px; height: 172.87px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c160 c38"><span class="c9 c7 c23"></span></p><p class="c69 c148"><span>In this example, there are no </span><span class="c31">&lt;script&gt;</span><span>&nbsp;tags needed. The JS functionality is integrated as the value of </span><span class="c31">onclick</span><span class="c2">.</span></p><p class="c128 c38"><span class="c2"></span></p><ul class="c30 lst-kix_qs0mourisqes-0 start"><li class="c133 c190"><span class="c31">onclick</span><span class="c2">&nbsp;is an html event attribute of the html element</span></li><li class="c138"><span class="c31">&lt;button&gt;</span><span class="c2">, which triggers the action after the equal sign, once the user clicks on the button</span></li><li class="c190 c264"><span class="c31">style.color</span><span class="c2">&nbsp;The color property sets the color of the text</span></li></ul><p class="c166"><span class="c2">Take a moment to think about, What this script does? Check, whether you are right by saving this code as a html file and again open it with your browser.</span></p><p class="c13"><span class="c2">If we want to accomplish a task that is a bit more complex, we can also call a funtion by pressing a button. In this case, the function reads the text in the paragraph &ldquo;input&rdquo; and writes its character count to the paragraph with id=&ldquo;output&rdquo;.</span></p><p class="c13"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 390.67px;"><img alt="" src="images/image4.png" style="width: 632.00px; height: 390.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c13 c38"><span class="c2"></span></p><h2 class="c280" id="h.9jfsb6tj9vno"><span>1.4 </span><span class="c7 c103 c122 c23">Model View Controller</span></h2><p class="c8"><span class="c2">After we have got familiar with the DOM, let&rsquo;s switch to another essential key concept: the Model View Controller Concept (MVC). The MVC is a design paradigm that provides an effective and efficient way to generate maintainable and reusable code with a certain level of security.</span></p><p class="c8"><span class="c2">The MVC breaks down the complexity of a task into three individual components: the data itself (model), the representation (view), and the logic (controller).</span></p><p class="c8"><span class="c2">The three components are:</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c64 c38"><span class="c7 c134 c23 c172"></span></p><a id="t.e78ce6bfaf0b798eb688a9ba8042bc0f9ef76e7b"></a><a id="t.0"></a><table class="c66"><tbody><tr class="c236"><td class="c57" colspan="1" rowspan="1"><p class="c168"><span class="c9 c7 c23">Model</span></p></td><td class="c238" colspan="1" rowspan="1"><p class="c118 c259"><span class="c9 c7 c23">&nbsp;View </span></p></td><td class="c286" colspan="1" rowspan="1"><p class="c118 c257"><span class="c9 c7 c23">&nbsp;Controller</span></p></td></tr><tr class="c243"><td class="c203" colspan="1" rowspan="1"><p class="c53 c38 c118"><span class="c7 c26 c23 c196"></span></p><p class="c45"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 156.50px; height: 199.00px;"><img alt="" src="images/image33.png" style="width: 156.50px; height: 199.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c188" colspan="1" rowspan="1"><p class="c115 c38 c118"><span class="c7 c26 c189 c23"></span></p><p class="c56 c118 c232"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 205.00px; height: 190.50px;"><img alt="" src="images/image14.png" style="width: 205.00px; height: 190.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td><td class="c100" colspan="1" rowspan="1"><p class="c38 c118 c223"><span class="c7 c26 c23 c189"></span></p><p class="c56 c70 c118 c242"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 216.00px; height: 191.50px;"><img alt="" src="images/image27.png" style="width: 216.00px; height: 191.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></td></tr><tr class="c35"><td class="c109" colspan="1" rowspan="1"><p class="c195"><span class="c9 c7 c23">data storage</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c118 c159"><span class="c9 c7 c23">&nbsp;data visualisation</span></p></td><td class="c164" colspan="1" rowspan="1"><p class="c118 c285"><span class="c9 c7 c23">&nbsp;controls the MVC application</span></p></td></tr><tr class="c156"><td class="c109" colspan="1" rowspan="1"><p class="c102"><span class="c9 c7 c23">provides data access to</span></p><p class="c287"><span class="c9 c7 c23">other models</span></p></td><td class="c39" colspan="1" rowspan="1"><p class="c118 c235"><span class="c9 c7 c23">&nbsp;transfers user interaction to</span></p><p class="c12"><span class="c9 c7 c23">&nbsp;controller</span></p></td><td class="c164" colspan="1" rowspan="1"><p class="c118 c275"><span class="c9 c7 c23">&nbsp;collects and integrates data</span></p></td></tr></tbody></table><p class="c147 c70"><span class="c2">Model</span></p><p class="c147 c38 c70"><span class="c2"></span></p><p class="c34"><span class="c2">MODEL</span></p><p class="c75"><span class="c2">This component acts like a database; it stores data and manages access requests from other models or external data sources. Because the model maintains all important data, a multi-user infrastructure for data sharing can be established in an easy and effective way.</span></p><p class="c38 c55"><span class="c2"></span></p><p class="c75"><span class="c2">VIEW</span></p><p class="c75"><span class="c2">The View component manages the graphical representation of data, it handles user interaction, and it communicates with the model to exchange data that was integrated by the user.</span></p><p class="c75 c38"><span class="c2"></span></p><p class="c75"><span class="c2">CONTROLLER</span></p><p class="c75"><span class="c2">Maintains the logic of the MVC and normalizes the data that can be stored in a logical and consistent manner in the model.</span></p><p class="c38 c147"><span class="c2"></span></p><p class="c75"><span class="c2">The combination of the MVC individual components develops a flexible application design with a strength in reusability and modularity. The separation of working tasks to the individual components can also reduce the complexity of tasks. The structure may seem cumbersome for smaller tasks, but when it comes to more complex programming tasks, MVC provides an indispensable frame.</span></p><p class="c75 c38"><span class="c2"></span></p><h2 class="c192" id="h.hmn73k45s06z"><span>1.5 </span><span class="c7 c103 c122 c23">Linking DOM and MVC</span></h2><p class="c75 c38"><span class="c2"></span></p><p class="c75"><span class="c2">In the MVC concept, the View interacts actively with the user. It visualises data for the user and takes input from the user, which it integrates into the internal structure of the HTML. Technically, this can be achieved through the DOM API, which creates the ability to manipulate the structure of the appearance of the HTML through JavaScript. In the MVC concept, JavaScript thus plays a central role in the MVC&rsquo;s View component. It governs data visualization and data preparation to generate an appealing user interface.</span></p><p class="c147 c38"><span class="c2"></span></p><h2 class="c173 c35" id="h.k2ml9087scs8"><span class="c7 c103 c122 c23"></span></h2><h2 class="c173 c35" id="h.q3jeuyuu53w0"><span class="c7 c103 c122 c23"></span></h2><h2 class="c173" id="h.fqeaia5hx969"><span>1.6 </span><span class="c7 c103 c122 c23">Exercise</span></h2><p class="c147 c38"><span class="c2"></span></p><p class="c13"><span class="c2">In this exercise, we build on what we have learned about scripting in the Javascript basics course (specifically: variables, loops and functions) and integrate it with what we have learned in this lesson (interactive event triggers).</span></p><p class="c13"><span class="c2">The aim of this exercise is to convert point coordinates in a line string. </span></p><p class="c13 c38"><span class="c2"></span></p><p class="c56 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 169.33px;"><img alt="This is, how the application should look like." src="images/image42.png" style="width: 602.00px; height: 169.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c56 c38 c70"><span class="c2"></span></p><p class="c62"><span class="c2">Some part of the code is already written: see below. There are point coordinates in an array printed out in the html. The points have the following syntax:</span></p><p class="c62 c38"><span class="c2"></span></p><p class="c62"><span class="c2">[[x1][y1],[x2][y2]]</span></p><p class="c62 c38"><span class="c2"></span></p><p class="c62"><span class="c2">Once the user clicks on the button, the JavaScript function returnLine() is called that should read the point coordinates and return the converted track to the html. The returnLine() function has a variable myTrack with the point coordinates. These data are parsed to the function pointToLine(trackPts).</span></p><p class="c13 c38"><span class="c2"></span></p><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 371.20px;"><img alt="" src="images/image16.png" style="width: 632.00px; height: 371.20px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 256.00px;"><img alt="" src="images/image17.png" style="width: 602.00px; height: 256.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c56 c38 c73"><span class="c2"></span></p><p class="c69 c94"><span class="c9">Your task is to finish the </span><span class="c9 c31">pointToLine(trackPts)</span><span class="c9">&nbsp;function in order to accomplish the conversion. You will need a track variable and a loop that iterates through the </span><span class="c9 c31">trackPts</span><span class="c9">&nbsp;and adds the first and the second element of each </span><span class="c9 c31">trackPts</span><span class="c9">&nbsp;(i.e. the x coordinate) to the track, separated by a comma. Remember that the first element has the index zero: </span><span class="c9 c31">trackPts[0]</span><span class="c9">. After the loop, you should slice the last comma away (look for the JavaScript </span><span class="c9 c31">slice</span><span class="c9 c7 c23">&nbsp;command!) and add brackets at the beginning and the end. Finally you return the finished track.</span></p><p class="c69 c38 c94"><span class="c9 c7 c23"></span></p><h2 class="c94 c237" id="h.w39l555v1sza"><span>1.7 </span><span class="c7 c103 c122 c23">Summary</span></h2><p class="c177 c94"><span class="c9 c7 c23">In this lesson, we started with the fundamental concept of the document object model (DOM) and the options this concept provides developers and users. The acquired knowledge allowed us to deepen into a software design pattern that focuses on the basic principles of programming on the web: modularity, reusability and structure, i.e. the MVC. Finally, we connected DOM and MVC and we discussed the important role of the MVC View component in interacting between the user and the developer.</span></p><p class="c38 c94 c177"><span class="c9 c7 c23"></span></p><h1 class="c94 c104" id="h.s1sqeuq2u8ng"><span>2. </span><span class="c11 c7">JS Libraries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c8"><span class="c2">Within the next lessons, we will construct different building blocks that will be used for the final assignment. In this lesson, we will look at libraries, which are repositories of code that can be reused. For small projects and for bringing a basic idea to code, it is adequate to code plain JavaScript from scratch. However, if you want to do something that is a bit fancier, you will most likely make use of frameworks and libraries.</span></p><p class="c8"><span class="c2">A library is a collection of code parts (functions or objects) that have been written by other developers. You can simply reuse the code and save a lot of work. A library usually is provided for a specific domain. For example, a mathematics library, supports a developer so that he just can call the function without redoing the implementation of how an algorithm works.</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.kgmd7ueh6x7h"><span class="c7 c103 c122 c23">2.1 Geospatial libraries</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">JavaScript is a scripting language that is mainly used on the client side, to provide adaptive and interactive functionalities of dynamic websites. In the geospatial domain, the main purpose of JavaScript is therefore the provision of interactive web-maps.</span></p><p class="c8"><span class="c2">There are two libraries that greatly support the task of web-mapping:</span></p><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_8i0n05m6ligj-0 start"><li class="c8 c112"><span class="c2">Leaflet is a heavily used example of a JavaScript library. It is an open-source library with a lot of web-mapping functionality that supports developers in implementing mobile-friendly interactive online maps.</span></li></ul><p class="c8 c38"><span class="c2"></span></p><ul class="c30 lst-kix_8i0n05m6ligj-0"><li class="c8 c112"><span class="c2">OpenLayers is another popular and wide-spread library for web-mapping. We will use the OpenLayers library for implementing the mapping tasks in this module. In the following, we will have a brief look of what we can do with this library and how it is used.</span></li></ul><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.2bbyss6l07rn"><span class="c7 c103 c122 c23">2.2 OpenLayers library</span></h2><p class="c34 c38"><span class="c2"></span></p><h3 class="c36" id="h.qrm29z2xb18z"><span class="c3">2.2.1 Load the library</span></h3><p class="c79 c74 c38"><span class="c2"></span></p><p class="c8"><span class="c2">The first step to work with a library is to load it into your HTML. You can do this by linking to the source code on the web. However, if you also want to work offline, you can download the OpenLayer package to your computer and refer to the local folder, where it is located. This is what we do.</span></p><p class="c8"><span class="c2">We download the package, place it in a folder called &ldquo;libraries&rdquo;, and refer to it with this line of code in the &lt;head&gt; section of the html:</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c79 c74 c73"><span class="c31 c172 c178 c61 c205">&nbsp;</span><span class="c31 c178 c61 c43">&lt;script &nbsp;</span><span class="c31 c61 c106">type=</span><span class="c31 c87 c61">&quot;text/javascript&quot; &nbsp;</span><span class="c31 c61 c106">src=</span><span class="c31 c87 c61">&quot;libraries/ol.js&quot;</span><span class="c7 c131 c31 c61 c43">&gt;&lt;/script&gt;</span></p><p class="c74 c38 c73 c79"><span class="c7 c131 c31 c61 c43"></span></p><p class="c79 c74"><span class="c119">2.2.2 Place a map in the html</span></p><p class="c79 c74 c38"><span class="c2"></span></p><p class="c79 c74"><span class="c2">The central element of the OpenLayers library is the ol/Map. It is placed in the html within a</span></p><p class="c79 c74"><span class="c2">&lt;div&gt;&lt;/div&gt; container that has an id=&quot;myMap&quot; and some style definition:</span></p><p class="c79 c74 c38"><span class="c2"></span></p><p class="c79 c74"><span class="c2">&nbsp;&lt;div id=&quot;myMap&quot; style=&quot;width: 100%, height: 400px&quot;&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c79 c74 c38"><span class="c2"></span></p><p class="c79 c74"><span class="c119">2.2.3 Render a raster basemap</span></p><p class="c79 c74 c38"><span class="c2"></span></p><p class="c41"><span class="c2">The map itself is constructed in the &lt;script&gt; part of the html.</span></p><p class="c41"><span class="c2">First, we create an OpenLayers map object that will hold all the functions and properties of our specific map:</span></p><p class="c79 c74 c38"><span class="c2"></span></p><p class="c79 c74"><span class="c172 c183">&nbsp;var map = new ol.Map({ ... });</span><span class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Within the curly brackets of the map object, we refer to the &ldquo;myMap&rdquo; id of our tag, to specify the target, where the map should be rendered, and set the view parameters to specify the display properties of our map object: the center coordinates, the projection and the zoom level.</span></p><p class="c79 c74"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 137.67px;"><img alt="" src="images/image46.png" style="width: 632.00px; height: 137.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c41 c38"><span class="c2"></span></p><p class="c41 c38"><span class="c2"></span></p><p class="c41"><span class="c2">Finally, we add the layers to the map. For now, this is only one raster layer with OSM map tiles:</span></p><p class="c41"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 40.07px;"><img alt="" src="images/image24.png" style="width: 632.00px; height: 40.07px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c41"><span class="c2">Putting it all together, this is the JavaScript that serves a map with help of the OpenLayers library:</span></p><p class="c79 c74 c38"><span class="c7 c131 c31 c61 c43"></span></p><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 235.47px;"><img alt="" src="images/image29.png" style="width: 632.00px; height: 235.47px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 38.67px;"><img alt="" src="images/image43.png" style="width: 602.00px; height: 38.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c50 c38"><span class="c9 c7 c23"></span></p><p class="c50"><span class="c9">If you want, you can </span><span class="c98 c9"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L2_EX_openlayers&amp;sa=D&amp;ust=1590600755855000">download</a></span><span class="c9 c49">&nbsp;</span><span class="c9">the working example and test it on your computer.</span></p><p class="c79 c74 c38"><span class="c7 c131 c31 c61 c43"></span></p><h3 class="c215 c74" id="h.gpdzlfac288a"><span>2.2.4 </span><span class="c3">Add vector features</span></h3><p class="c8"><span class="c2">Vector features are constructed hierarchically from the geometry, the feature (with the styling info), the layer and finally to the map.</span></p><p class="c8"><span class="c2">Let&rsquo;s add the coordinates of Padova to the map:</span></p><p class="c34 c38"><span class="c2"></span></p><h5 class="c228" id="h.5rtjrtdc7ujq"><span class="c7 c44 c23 c43">Geometry</span></h5><p class="c54 c38"><span class="c7 c130 c23 c43 c157"></span></p><p class="c177 c94"><span class="c9">OpenLayers has a couple of geometry objects like Point, LineString, Polygon, MultiPoint, and so on. To construct a point we use the function </span><span class="c9 c31">ol.geom.Point</span><span class="c9">. If this is a point with geographic coordinates, we need to also define the projection of the geometry and the projection of the display. This is done with the function </span><span class="c9 c31">ol.proj.transform([lon,lat], geometry-projection, display-</span><span class="c9">&nbsp;</span><span class="c9 c31">projection)</span></p><p class="c165 c94"><span class="c9 c7 c23">To add a point, we write:</span></p><p class="c94 c165"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 59.60px;"><img alt="" src="images/image18.png" style="width: 632.00px; height: 59.60px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h5 class="c50 c38" id="h.naiib8r2hcyu"><span class="c7 c44 c23 c43"></span></h5><h5 class="c50" id="h.ayud2eyuosf4"><span class="c7 c44 c23 c43">Feature</span></h5><p class="c38 c64"><span class="c7 c157 c130 c23 c43"></span></p><p class="c177 c170"><span class="c9">With the information about the geometry, we can construct a feature. All features together build the </span><span class="c9 c31">ol.source.Vector</span><span class="c9 c7 c23">&nbsp;object:</span></p><p class="c177 c170"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 134.50px;"><img alt="" src="images/image48.png" style="width: 632.00px; height: 134.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c94"><span class="c9">The style can be defined with </span><span class="c44 c43">fill </span><span class="c9">(for polygons), </span><span class="c43 c44">stroke </span><span class="c9">(for lines), and </span><span class="c44 c43">image </span><span class="c9 c7 c23">(for points). The image can be a circle, again with fill and stroke parameters. The rgba values stand for red, green, blue, and transparency.</span></p><p class="c69 c94"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 411.33px;"><img alt="" src="images/image44.png" style="width: 632.00px; height: 411.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h5 class="c120" id="h.760997ihm0ui"><span class="c7 c44 c23 c43">Layer</span></h5><p class="c51 c38"><span class="c7 c157 c130 c23 c43"></span></p><p class="c62"><span class="c33 c7 c23">The layer is constructed from the features (the &ldquo;vectorSource&rdquo;) and the style:</span></p><p class="c56"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 93.50px;"><img alt="" src="images/image1.png" style="width: 632.00px; height: 93.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h5 class="c50" id="h.ff0u4c9h30nh"><span class="c7 c44 c23 c43">Map</span></h5><p class="c53 c38"><span class="c7 c157 c130 c23 c43"></span></p><p class="c262"><span class="c9 c7 c23">The map that we already know from rendering the basemap stays unchanged, we just need to add the vector layer:</span></p><p class="c262 c38"><span class="c9 c7 c23"></span></p><p class="c69 c126"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 168.00px;"><img alt="" src="images/image23.png" style="width: 602.00px; height: 168.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c69 c126"><span class="c9">To explore the composed map with the OSM basemap and the point feature together in one script, you can </span><span class="c98 c9"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L2_EX_OpenLayers_add-vector&amp;sa=D&amp;ust=1590600755860000">download</a></span><span class="c9 c49">&nbsp;</span><span class="c9">the OpenLayers map that now also displays the location of Padova.</span></p><h2 class="c139" id="h.e5lalec8naqa"><span class="c7 c103 c122 c23">2.3 Documentation</span></h2><h2 class="c153" id="h.ox9g3c4ap8gk"><span class="c9">How do we actually know what properties an object can or must have? This is something that </span><span class="c61">you can look up in the &ldquo;OpenLayers&rdquo; JS </span><span class="c44 c43">library documentation </span><span class="c9 c7 c23">for mapping applications. It contains a comprehensive description of all classes and functions of the OpenLayers library in the OpenLayers code documentation for developers.</span></h2><h2 class="c153" id="h.23d8jlsjpxu5"><span class="c9 c7 c23">If you want to have a resource to learn more about OpenLayers and dive deeper into this library, you can find tutorials and examples in the resources of the OpenLayers project.</span></h2><h1 class="c97 c74 c231" id="h.1xm11xa1yvm4"><span class="c11 c7">3. JS Frameworks&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c284"><span class="c9 c7 c23">A software framework is more than a library, it is a whole software environment that facilitates the development of software applications. You can think of the framework code as of a skeleton or a template that provides a generic functionality. This part of the software has a rigid structure and is not supposed to be changed by the developer. In the open parts of the framework, the user can include his/her own code and therefore adjust it in a way to fit the individual project architecture. This way, a developer extends the generic framework to develop a specific application. Rules and guidelines ensure the compliance of user-generated code with the requirements of the framework&rsquo;s code structure. Additional to their own included functionality, developers can further add functions and methods to the framework through</span></p><p class="c108 c170"><span class="c9 c7 c23">libraries. Unlike libraries that &lsquo;just&rsquo; support a developer with re-usable code, a framework dictates the overall program&rsquo;s control: it is like a template to be filled.</span></p><p class="c86"><span class="c9">The rationale behind using a framework is to allow program developers to devote their time to the specific requirements of their application rather than dealing with standard, low-level code that is needed to provide a working system. Using a framework saves a tremendous lot of time and thus has become the standard way to build and deploy applications.</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.k5z516v47pb7"><span class="c7 c103 c122 c23">3.1 Linking frameworks and libraries</span></h2><p class="c108"><span class="c9 c7 c23">Both libraries and frameworks have a defined API that programmers can use as the interface to their code. Bringing it all together, we can think of a library as providing certain functions to an application, a framework as the skeleton of the application, and the API&rsquo;s is a connector to put these together.</span></p><p class="c211"><span class="c9 c7 c23">A typical development process starts with a framework, that is extended with functionality from libraries through their API. This is a best practice approach of how to structure application development projects to keep them maintainable, reusable, modular and to facilitate bug fixing.</span></p><p class="c211 c38"><span class="c9 c7 c23"></span></p><h2 class="c234" id="h.rxodv9wcf7m4"><span>3.2 </span><span class="c7 c103 c122 c23">Angular JS</span></h2><p class="c8"><span class="c2">In this lesson, we will practically integrate a JS framework with JS libraries to make use the full potential of JavaScript in an easy and comprehensible way. The framework that we will use is Angular JS. AngularJS is a JavaScript framework on client side. Its functionality is based on JavaScript and extends the HTML vocabulary to establish an efficient programming environment.</span></p><p class="c8"><span class="c2">AngularJS is sometimes described also as a &ldquo;superheroic&rdquo; framework, because of its influence on the overall code structure and the multiple ways it can optimise workflows. However, a primary reason why we are using it in this module is its consequent design according to the MVC principle.</span></p><p class="c8"><span class="c2">A further advantage of AngularJS is that it is declarative. In a declarative language like HTML or SQL, your code describes what you want to do, and not how exactly it shall be implemented. It is left up to the compiler to figure out the how. This makes it way easier to read and write code in comparison to imperative languages like Java. In AngularJS, you declare right in your HTML what shall be done. To operationalise your declarations into machine-logic, AngularJS extends HTML with new attributes that are called AngularJS Directives. You can identify these directives by their prefix ng-, like ng-app, ng-bind, or ng-model. There is a wealth of predefined directives, but you could also define your own.</span></p><p class="c8 c38"><span class="c2"></span></p><h2 class="c161 c74" id="h.rrn1e3h3t1j0"><span class="c7 c103 c122 c23">3.3 AngularJS resources</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">The AngularJS website for developers is a valuable resource for anybody, who works with this framework. It provides a tutorial, gives a conceptual overview, and offers code examples.</span></p><p class="c8"><span class="c2">Definitely a valuable resource for the whole course, which offers all resources needed to program within this framework.</span></p><p class="c8"><span class="c2">If you want to dig even deeper into AngularJS, here is my text book recommendation: &ldquo;AngularJS Up &amp; Running&rdquo; (Seshadri and Green 2014) gives a very good introduction to AngularJS. It focuses on a practical use of AngularJS and also includes a comprehensive GIT repository with code examples. It helps to &ldquo;think Angular&rdquo; and to really understand what&rsquo;s behind the concepts and theories. If you have the time, look at your local libraries for a copy!</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.hib1043bo7vx"><span class="c7 c103 c23 c122">3.4 Hello World! with AngularJS</span></h2><p class="c8"><span class="c2">We start now with a first &ldquo;Hello World&rdquo; application: this application asks a user to enter a text into a textbox on a website. The user entry triggers that the user&rsquo;s name is played back to him in an individualised welcome message.</span></p><h3 class="c74 c197" id="h.mketpsk6p7jw"><span class="c3">3.4.1 Load the new library / source-code into your code</span></h3><p class="c8"><span class="c2">The first step to work with AngularJS is to load it into your HTML. Like for libraries, you can do this by linking to the source code on the web. Here, we use an instance of AngularJS that is hosted in the Google Hosted Libraries (GHL).</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 52.53px;"><img alt="" src="images/image47.png" style="width: 632.00px; height: 52.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">With GHL code libraries are not only outsourced, but it also lets the hosted libraries take care of caching data in your code. This makes your application faster and decreases latency times of your code. However, be aware that an internet connection is required!</span></p><p class="c8"><span class="c2">Alternatively, if you wanted to work offline, you could also download Angular.js to your computer and refer to the local folder, where it is located.</span></p><p class="c8 c38"><span class="c2"></span></p><h3 class="c197 c74" id="h.z5abono47fw4"><span class="c3">3.4.2 Bootstrapping</span></h3><p class="c8"><span class="c2">Bootstrapping tells AngularJS in which part of the HTML document it should operate. To do so, we make use of our first AngularJS directive ng-app. By adding ng-app to an HTML tag, like &lt;html&gt;, &lt;body&gt;, or even just a &lt;p&gt;, AngularJS is strapped to this specific section of your webpage.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">In the code below, AngularJS is bootstrapped to the HTML tag, so AngularJS will operate in the entire html document:</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 138.53px;"><img alt="" src="images/image19.png" style="width: 632.00px; height: 138.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c34 c38"><span class="c2"></span></p><h3 class="c36" id="h.agjrdt5t638l"><span class="c3">3.4.3 Data binding</span></h3><p class="c8"><span class="c2">Binding data means that you establish a link between data sources and keep them synchronised. In AngularJS it refers to the automatic synchronisation of data between the model and the view components.</span></p><p class="c8"><span class="c2">This is for example necessary, if you are working with online forms that shall be filled by a user. In this case, the ng-model directive binds the value of HTML controls, e.g. an input field, or the user-selection of a drop-down field, to a variable created in AngularJS. The ng-model is thus often used together with online forms. By including the ng-model to the user input you can get access to the value in JavaScript. This binding is a two-way binding, it is bi-directional. If the user input is changed anywhere else in the application, the changed name will display in the input field.</span></p><p class="c8"><span class="c2">However, there are cases, in which you do not want a two-way synchronisation. For these cases, you can use the directive ng-bind, which establishes a one-directional binding.</span></p><p class="c8"><span class="c2">In the below code examples, both data binding directives are used:</span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 155.60px;"><img alt="" src="images/image2.png" style="width: 632.00px; height: 155.60px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c56"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 626.50px; height: 33.00px;"><img alt="" src="images/image8.png" style="width: 626.50px; height: 33.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c2">In this example, the user will enter his name in the input field. With the ng-model the user input is bound to a variable labelled &ldquo;name&rdquo;. This variable is then bound to a paragraph &lt;p&gt; and automatically updates the variable as the user enters his/ her name.</span></p><p class="c8"><span class="c2">Go ahead, save it the code as html and and try it out!</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">By the way, to display &ldquo;Hello:&rdquo; and the user&rsquo;s name in one line, you need to include the ng-bind command in between &lt;span&gt; &lt;/span&gt; tags and put both together in between the same paragraph tags &lt;p&gt; &lt;/p&gt;:</span></p><p class="c79 c74 c73"><span class="c31 c178 c61 c43">&lt;p&gt;</span><span class="c31 c61">Hello &nbsp;</span><span class="c31 c178 c61 c43">&lt;span &nbsp;</span><span class="c31 c61 c106">ng-bind=</span><span class="c31 c87 c61">&quot;name&quot;</span><span class="c7 c31 c61 c43 c131">&gt;&lt;/span&gt;&lt;/p&gt;</span></p><p class="c70 c94 c154"><span class="c9">or - much more convenient, you can omit the span tags with the variable assigned to the ng- bind attribute </span><span class="c9 c31">&lt;span ng-bind=&quot;name&quot;&gt;&lt;/span&gt;</span><span class="c9">&nbsp;altogether and replace it just with the variable in double-curly brackets </span><span class="c9 c31">{{name}}</span><span class="c33 c7 c23">. It&rsquo;s a shorter way to do exactly the same:</span></p><p class="c123 c38"><span class="c7 c23 c90"></span></p><p class="c79 c74 c73"><span class="c31 c172 c178 c61 c205">&nbsp;</span><span class="c31 c178 c61 c43">&lt;p&gt;</span><span class="c31 c61">Hello &nbsp;{{name}}</span><span class="c7 c131 c31 c61 c43">&lt;/p&gt;</span></p><p class="c79 c74 c38 c73"><span class="c7 c131 c31 c61 c43"></span></p><h3 class="c74 c73 c215" id="h.vlnulf29pz5s"><span>3.4.4 </span><span class="c3">Validate the input&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h3><p class="c8"><span class="c2">Often, we need to restrict the user input to some rules, e.g. only accept numbers for a telephone number, require the input to be of type &ldquo;email&rdquo;, or do not accept abbreviated first names. This is controlled by the AngularJS validator. Here is an exemplary validator that requires the input to be of a minimum length of two characters:</span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 35.27px;"><img alt="" src="images/image15.png" style="width: 632.00px; height: 35.27px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c34 c38"><span class="c2"></span></p><h3 class="c36" id="h.kwqybm2fb6gi"><span class="c3">3.4.5 Add a Controller</span></h3><p class="c8"><span class="c2">In the Hello World example, you have so far worked with two of the three MVC components: The Model (the data) and the View (the user interaction and display). Next, we will add the last component, the Controller to the Model-View-Controller design pattern. To see, how a controller works, we can consider an example: we want to display a name of a wizard that is provided by a script.</span></p><p class="c8"><span class="c2">To accomplish this, we can build on our Hello World example, but we need to change and add a few things. Let&rsquo;s do it step by step. First of all, we need a script in between &lt;script&gt; tags that delivers the wizard&rsquo;s name. This script needs to be in a separate html section than the View,</span></p><p class="c8"><span class="c2">i.e. the html section to which the ng-app refers. So we need to introduce a new html section within the body and shift the ng-app there. Let&rsquo;s define a &lt;div&gt; section for that.</span></p><p class="c8"><span class="c2">So, this is the skeleton of our code. Both, the View (here: the ``` section) and the script are still empty:</span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 265.67px;"><img alt="" src="images/image11.png" style="width: 632.00px; height: 265.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c70 c94 c143"><span class="c9">Next, we fill the </span><span class="c9 c31">&lt;div&gt;</span><span class="c9">&nbsp;section - we can actually re-use the Hello World example. However, as we </span><span class="c33 c7 c23">don&rsquo;t need an input, we just need one line to display the wizardname variable:</span></p><p class="c60"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 18.33px;"><img alt="" src="images/image37.png" style="width: 632.00px; height: 18.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c51 c38 c94"><span class="c7 c103 c23 c144"></span></p><p class="c67 c70"><span class="c9 c7 c23">What we also need to do, is to connect the View and the script. So, we do two things:</span></p><p class="c38 c94 c145"><span class="c9 c7 c23"></span></p><ol class="c30 lst-kix_c9tpr0fj7tej-0 start" start="1"><li class="c62 c190 c94"><span class="c9">we give the ng-</span><span class="c33 c7 c23">app a name, e.g. &ldquo;myApp&rdquo; so that it can be identified from outside the</span></li></ol><p class="c62 c94 c111"><span class="c9 c31">&lt;div&gt;</span><span class="c9 c7 c23">&nbsp;section, i.e. from the script, and</span></p><p class="c145 c38 c94"><span class="c7 c26 c23 c200"></span></p><ol class="c30 lst-kix_c9tpr0fj7tej-0" start="2"><li class="c67 c176"><span class="c9">we add a controller. AngularJS offers a directive </span><span class="c9 c31">ng-controller</span><span class="c9">&nbsp;for that. You can think of the</span><span class="c9 c31">&nbsp;ng-controller</span><span class="c9 c7 c23">&nbsp;as something that can do stuff and makes the result available in the HTML as an object. In AngularJS the controller&rsquo;s resulting object is called a scope. We define the ng- controller in the &lt;div&gt; section, together with the ng-app and name it &ldquo;myController&rdquo;:</span></li></ol><p class="c67 c251"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 447.50px; height: 214.55px;"><img alt="" src="images/image45.png" style="width: 447.50px; height: 214.55px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c67 c38 c251"><span class="c9 c7 c23"></span></p><p class="c67 c38 c251"><span class="c9 c7 c23"></span></p><p class="c67"><span class="c9 c7 c23">The View part is set. We now have to write a script to provide the name. For this code we need:</span></p><p class="c67 c38"><span class="c9 c7 c23"></span></p><ul class="c30 lst-kix_3zh2r4rkm68i-0 start"><li class="c52"><span class="c9 c7 c23">a container that ships content from here to there, i.e. from the script to the View. Such a container is called module in AngularJS. Actually, it&rsquo;s an Angular&rsquo;s module, so we write angular.module. To create a module, it takes two arguments as inputs: first, a label that needs to match the ng-app it refers to (here: &ldquo;myApp&rdquo;) and second, a list of all other modules it depends on in brackets (here: there are no other modules and the brackets can be left empty). We assign this newly created module to a variable that we call &ldquo;myVar&rdquo;: var myVar = angular.module(&quot;myApp&quot;, [])</span></li></ul><p class="c67 c38"><span class="c9 c7 c23"></span></p><ul class="c30 lst-kix_iy0chlpcrb0g-0 start"><li class="c52"><span class="c9 c7 c23">a controller for the &ldquo;myVar&rdquo; variable. The controller is a method of this variable, which again takes two inputs. First, the name of the corresponding ng-controller (here: &ldquo;myController&rdquo;) and second, the scope objects (here: the value for the wizardname). So, we can define our controller as follows: myVar.controller(&quot;myApp&quot;, function($scope){}), where the curly brackets collect the actual value for the scope&rsquo;s attribute (here: the wizardname that we want to display):</span></li></ul><p class="c67"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 104.07px;"><img alt="" src="images/image10.png" style="width: 632.00px; height: 104.07px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c38 c133"><span class="c9 c7 c23"></span></p><p class="c133"><span class="c9">Take a deep breath. You are almost done. Now, you just have to replace the empty </span><span class="c9 c31">&lt;div&gt;</span><span class="c9">&nbsp;and </span><span class="c9 c31">&lt;script&gt;</span><span class="c9 c7 c23">&nbsp;sections of your code skeleton with the above code parts.</span></p><p class="c62"><span class="c9">Go ahead and test it in your web-</span><span class="c33 c7 c23">browser. If it displays &ldquo;Harry Potter&rdquo; all went well!</span></p><p class="c62 c38"><span class="c33 c7 c23"></span></p><h2 class="c179" id="h.9hq4zh4jdzuk"><span>3.5 </span><span class="c7 c103 c122 c23">Exercise</span></h2><p class="c8"><span class="c2">So far, we worked through the code examples together. In this exercise it&rsquo;s on you to apply the concepts discussed so far. It will be a good training for the final project.</span></p><p class="c8"><span class="c2">The task of this exercise builds on the Hello World example: you are asked to create a form, which combines and displays two separate inputs together: the inputs are the user&rsquo;s first and</span></p><p class="c8"><span class="c2">last name. The user&rsquo;s full name shall then be concatenated by a script and displayed in the html. The default first and last name also comes from the Script: let it be &ldquo;Harry Potter&rdquo; again.</span></p><p class="c8"><span class="c2">However, as the user changes the name in the input, the display adapts to the user input - a</span></p><p class="c8"><span class="c2">two-way binding, just like in our Hello World example.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">You should be able to code most of this form on your own. There are only a few things that we haven&rsquo;t done so far, so let me briefly help you with that:</span></p><p class="c8"><span class="c2">We need two names, the first name and the last name. Actually, these two are related - both are attributes of the same user. So, let&rsquo;s define an object &ldquo;user&rdquo; that has three attributes: firstname, lastname, and the concatenated fullname. To address an attribute of an object, a dot is placed in the middle: object.attribute, here for example: user.firstname.</span></p><p class="c8"><span class="c2">In the script, we want to define the names of the user. In contrast to the example above, where the wizardname was the scope&rsquo;s attribute that could be assigned directly, the scope&rsquo;s attribute here is the user that itself has attributes: the names. Further, we need a function to concatenate the names. We can do this as follows:</span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 403.50px; height: 77.53px;"><img alt="" src="images/image12.png" style="width: 403.50px; height: 77.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">To display the full name in the View, you then simply need to call the function: user.fullName() That&rsquo;s it. Go ahead and construct the web-form!</span></p><p class="c8"><span>If you want to cross-check, you can </span><span class="c150"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L3_EX_Harry-Potter_solution&amp;sa=D&amp;ust=1590600755877000">download</a></span><span class="c2">&nbsp;the solution.</span></p><p class="c34 c38"><span class="c2"></span></p><h1 class="c97 c74" id="h.3fnin7l988og"><span class="c11 c7">4. Service endpoints&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c8"><span class="c2">Welcome to Lesson on Service Endpoints! By now, we have chosen an appropriate framework that helped us to develop an interactive application with a code that is well-structured according to the MVC pattern. What&rsquo;s missing? Of course, data!</span></p><p class="c8"><span class="c2">Data may originate from files located on your hard disk, but may also be offered by external sources. In time of abundant data and networked infrastructures, the use of externally provided data has become the primary approach to data management. It is easier to deal with already available data than invest a lot of time and money to collect your own data.</span></p><p class="c8"><span class="c2">In this lesson, we look into data exchange standards of service endpoints and class modeling: conceptually, but also practically. This will be an important cornerstone in the final project of this module, the tracking application.</span></p><p class="c8"><span class="c2">Upon completion of this lesson you should be able to:</span></p><p class="c8 c38"><span class="c2"></span></p><ul class="c30 lst-kix_rhmhrtnw4ioa-0 start"><li class="c8 c112"><span class="c2">name different communication protocols</span></li><li class="c8 c112"><span class="c2">explain REST and SOAP with your own words</span></li><li class="c8 c112"><span class="c2">explain what an API is</span></li><li class="c8 c112"><span class="c2">name different vendor api&rsquo;s</span></li><li class="c8 c112"><span class="c2">understand the result of a geocoding operation</span></li></ul><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Let&rsquo;s start with data loading in the context of the Model View Controller design pattern. In the MVC, the controller manages and normalises all the data. Thus, it is useful to find a way to introduce data to the controller and be able to re-use the same controller again for all different types of your projects in the future.</span></p><p class="c56 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 153.33px;"><img alt="Data input in the context of the MVC pattern is governed by the controller" src="images/image20.png" style="width: 602.00px; height: 153.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c74 c70 c279"><span class="c61 c78">Data input in the context of the MVC pattern is governed by the controller</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.qb1vy7uyerpk"><span class="c7 c103 c122 c23">4.1 Service Endpoints</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">For this purpose databases and service endpoints provide well documented data interfaces. A service endpoint is a web address (URL) through which you can access a specific service. That means that you call this URL in order to get back the data or the operations that are provided by that service. Often, service endpoints request a key, a proof of your identity or your access privileges to the data of the endpoint. For our current project (and also for the final assignment), we will use a service endpoint because of its flexibility and fast data query.</span></p><p class="c8"><span class="c2">Web service endpoints have two main standardised forms of communication, REST and SOAP endpoints. Both are endpoints, but the endpoint-user communication is different. REST stands for Representational State Transfer, and SOAP is the abbreviation for Simple Object Access Protocol.</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">SOAP is a protocol for a very structured message exchange. It is fully encoded in XML and therefore incorporates all its benefits, such as its platform independency, extensibility, and human readability. SOAP is composed of a SOAP header and the SOAP body bound together in the SOAP envelope. The basic structure of a SOAP request and response is strictly standardised. The standard provides users of SOAP with clear information of what to expect and what is required to get the data. This makes SOAP especially useful for machine-to-machine communication. The varieties of transport protocols with which a SOAP message can be exchanged also supports this type of communication.</span></p><p class="c8"><span class="c2">SOAP&rsquo;s strict standardisation does not extend to the encoding of the SOAP body itself, which contains the actual data. It could either be a clean XML file structure, but also could be an image for example.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">REST relies fully on the HTTP protocol of the world wide web to exchange data. This means that there is a URL that provides a service. If you call this URL, you get back some data. Within this URL you can send parameters to specify the data you want to get.</span></p><p class="c8"><span class="c2">In contrast to SOAP, REST is stateless. In other words, there is no session to be set up for forth- and-back communication about the type and state of a request. The service provider doesn&rsquo;t store any session information or state of the requestor. In the request-URL the requestor has to send every piece of information that the provider needs to deliver the service: information like username, device-id, maximum number of results to be returned, language, data format etc.</span></p><p class="c8"><span class="c2">These parameters that specify a request are called HTTP GET and HTTP POST parameters. REST requests do not need any initialization and no session objects.</span></p><p class="c8"><span class="c2">The table below offers a comparison between the two available endpoint protocols SOAP and REST:</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c38 c247"><span class="c7 c26 c23 c282"></span></p><a id="t.1188d31ec0d5ffb5a4277dc79885a038c9ddbfdf"></a><a id="t.1"></a><table class="c66"><tbody><tr class="c258"><td class="c198" colspan="1" rowspan="1"><p class="c168"><span class="c9 c7 c23">SOAP</span></p></td><td class="c254" colspan="1" rowspan="1"><p class="c118 c248"><span class="c9 c7 c23">REST</span></p></td></tr><tr class="c158"><td class="c136" colspan="1" rowspan="1"><p class="c149"><span class="c9 c7 c23">free choice of transport</span></p><p class="c175"><span class="c9 c7 c23">protocol</span></p></td><td class="c288" colspan="1" rowspan="1"><p class="c95"><span class="c9 c7 c23">limited to HTTP</span></p></td></tr><tr class="c71"><td class="c185" colspan="1" rowspan="1"><p class="c102"><span class="c9 c7 c23">strict communication standard</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c146 c118"><span class="c9 c7 c23">efficient and fast through smaller message formats</span></p></td></tr><tr class="c71"><td class="c185" colspan="1" rowspan="1"><p class="c102"><span class="c9 c7 c23">stateful</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c118 c146"><span class="c9 c7 c23">stateless</span></p></td></tr><tr class="c71"><td class="c185" colspan="1" rowspan="1"><p class="c169"><span class="c9 c7 c23">XML structure</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c118 c261"><span class="c9 c7 c23">message encoded in URL</span></p></td></tr><tr class="c239"><td class="c185" colspan="1" rowspan="1"><p class="c102"><span class="c9 c7 c23">no size limitation</span></p></td><td class="c15" colspan="1" rowspan="1"><p class="c146 c118"><span class="c9 c7 c23">limited by a maximum URL length set by the</span></p><p class="c118 c214"><span class="c9 c7 c23">browser</span></p></td></tr></tbody></table><p class="c110"><span class="c9">The endpoint is the gateway for an API, an application programming interface. An API holds a set of definitions, protocols or tools that can be integrated in your project. You can see the API</span><span class="c2">&nbsp;as a contractor. You are outsourcing some operations to the API to decrease operational effort for your code.</span></p><p class="c110"><span class="c2">Major companies like HERE, LinkedIn, Google, Twitter or Bing provide APIs free of charge that anyone can use. I am sure you have noticed maps on web pages of shops or restaurants that were provided by Google &amp; Co? Here you go, the website developer used the Google Maps API to integrate a mapping application into the website. To make your life easier as a developer, nearly all APIs provide detailed documentation about the parameters, protocols or limitations.</span></p><p class="c110"><span class="c2">And the best thing is: there are a lot of APIs that are free of charge! However, free of charge does not mean open. Usually, the use of a free API comes with limitations: often you are required to create an account to obtain a key that allows you to access the API. Further, there may be limitations to the maximum of requests per minute or limited API functionality. In case you need more, you need to pay a service fee.</span></p><p class="c110"><span class="c2">However, accessing the data is only the first step. Things become complicated when it comes to using these data for your application. Standardisation is a big plus here as data providers and - consumers know what to expect from the data. The metadata of a service tells us the data format, the spatial resolution and the endpoint-methodology. This knowledge helps us to develop a code that takes the data and transforms it into the format we need. The service metadata is available in documentation or online.</span></p><h2 class="c40" id="h.7192845cwylo"><span>4.2 </span><span class="c7 c103 c122 c23">An example: geocoding service by MapQuest</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">To see a service endpoint in operation, we look into the geocoding REST service offered by MapQuest. Our question is: How can we use MapQuest&rsquo;s geocoding service to identify the coordinates of Padova?</span></p><p class="c8"><span class="c2">If you want, you can take a look at the website that describes the API of the MapQuest geocoding service: MapQuest geocoding API.</span></p><p class="c8"><span class="c2">Basically, it tells us the following:</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_4pubj7vib1mt-0 start"><li class="c34 c112"><span class="c2">the generic URL that we need to request the service: http://www.mapquestapi.com/geocoding/v1/address</span></li></ul><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_rh1zhtiebfa7-0 start"><li class="c34 c112"><span class="c2">the possible parameters: Although, one can set a bunch of parameters, the only required parameter is the licence key and a location. The parameters need to be in the following form: ?key=value&amp;location=value2 etc.</span></li></ul><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_iffb1o1467lh-0 start"><li class="c34 c112"><span class="c2">the possible output: the xy coordinates either in JSON, XML, or CSV</span></li></ul><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_9pt4k56xfldo-0 start"><li class="c34 c112"><span class="c2">licence key: a licence key is required. You can sign up at MapQuest and get your own, free licence key, or you can use the temporary key: xIUXsioMg2DK2XcyA1gUVoAqkaA26IVe.</span></li></ul><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">With this information, we can construct our REST request, asking for a JSON encoding for the coordinates of padova:</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c150"><a class="c25" href="https://www.google.com/url?q=http://www.mapquestapi.com/geocoding/v1/address?key%3DxIUXsioMg2DK2XcyA1gUVoAqkaA26IVe%26outFormat%3Djson%26location%3DPadova&amp;sa=D&amp;ust=1590600755891000">http://www.mapquestapi.com/geocoding/v1/address?key=xIUXsioMg2DK2XcyA1gUVoAqkaA26IVe&amp;outFormat=json&amp;location=Padova</a></span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Go ahead and post this URL in your browser to see the result! When you switch to the &lsquo;raw data format&rsquo; tab, you will see the JSON-style encoding of the data.</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c40" id="h.fliie8xpsxoa"><span class="c7 c103 c122 c23">4.3 JSON data format</span></h2><p class="c8"><span class="c2">JSON has become best practice as data exchange format when working with (REST) web services, because of its portability, interoperability and readability. Almost all REST endpoints return JSON data. XML / GML in comparison is less legible, requires a schema if used properly, requires more space and slows down the performance in most cases. On the other side, rigid data management by means of schema validation is one thing that JSON lacks. At the end of the day, it&rsquo;s (again) your responsibility as developer to choose the right data format for the right use-cases.</span></p><p class="c8"><span class="c2">JSON is built on two structures:</span></p><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_j0hbfj4o7bs5-0 start"><li class="c8 c112"><span class="c2">Collection of name/value pairs (an object in most languages)</span></li><li class="c8 c112"><span class="c2">An ordered list of values (an array in most languages) Let&rsquo;s view a simple JSON file with information on wizards:</span></li></ul><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 116.00px;"><img alt="" src="images/image35.png" style="width: 602.00px; height: 116.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c48"><span class="c2">In the above example, the JSON object is &ldquo;wizards&rdquo; that contains an array of individual wizards. The object is defined by the curly brackets {}. If one object holds not just one value, but several objects, these objects are grouped together into an array. The elements of the array are held together with brackets []. Each wizard is again an object that is held between curly brackets {}, which is specified by three attributes (firstname, lastname, school).</span></p><p class="c48"><span class="c2">As another example, here is a simplified version of the JSON that resulted from our geocoding request: the results-object has an array of two individual resulting objects: the formatted address and the geometry, where the geometry again holds the location and the location_type as objects. Finally, the location holds the lat/lon object with the xy value pair.</span></p><p class="c48 c38"><span class="c2"></span></p><p class="c123"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 600.00px;"><img alt="" src="images/image5.png" style="width: 602.00px; height: 600.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c51"><span class="c2">Viewing the entire JSON response in a text editor is not really comfortable. Luckily there are JSON plugins for popular text editors like TextMate or Notepad++ that let you browse through a JSON object and expand / collapse arrays. A recommendable online tool is the JSON Viewer.</span></p><p class="c51"><span class="c2">Open this viewer, paste the entire JSON response of your MapQuest geocoder request there and browse through the JSON document to explore its content! </span></p><p class="c51"><span class="c2">Let&rsquo;s say, we want to reference the lat / lon coordinates in the JSON file from our application. In order to access individual elements in the JSON data, we need to explore their structure in order to know where to find them.</span></p><p class="c38 c51"><span class="c2"></span></p><ul class="c30 lst-kix_sb4vqz99nyfy-0 start"><li class="c51 c112"><span class="c2">request the MapQuest geocoder REST service endpoint: http://www.mapquestapi.com/geocoding/v1/address?key=xIUXsioMg2DK2XcyA1gUVoAqk aA26IVe&amp;location=Padova=json</span></li></ul><p class="c51 c38 c221"><span class="c2"></span></p><ul class="c30 lst-kix_sb4vqz99nyfy-0"><li class="c51 c112"><span class="c2">copy and paste the received JSON into the JSON Viewer to explore the structure of the returned data.</span></li></ul><p class="c51 c38"><span class="c2"></span></p><p class="c51 c38"><span class="c2"></span></p><p class="c123"><span class="c2">In the example above seven locations were found for the given address. The first location that is returned is labelled 0. It is an array that holds the data for this location, including the lat/lng coordinates.</span></p><p class="c123"><span class="c2">Once you know how the structure of the JSON request looks like, it is relatively simple to access required items. Just add a dot after the name of an array to get access to nested sub-arrays. The following method can be use to get access to the latitude value of the result above:</span></p><p class="c123 c38"><span class="c2"></span></p><ul class="c30 lst-kix_di2ecfkyzcc-0 start"><li class="c123 c112"><span class="c2">access the response object by writing: response.</span></li><li class="c123 c112"><span class="c2">follow the tree structure of the JSON: results [0] - locations[0] - latLng - lat This reference will return the latitude coordinate:</span></li></ul><p class="c123 c221"><span>response.results[0].locations[0].latLng.lat;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c123 c38"><span class="c7 c26 c127 c23"></span></p><p class="c123 c38"><span class="c7 c26 c127 c23"></span></p><p class="c56 c38 c73"><span class="c7 c103 c99 c23"></span></p><p class="c56 c38 c73"><span class="c7 c103 c99 c23"></span></p><h2 class="c40" id="h.u9o0z9kzznnq"><span class="c7 c103 c122 c23">4.4 Summary</span></h2><p class="c8"><span class="c2">In this lesson we accessed an API through a service endpoint. We critically reviewed the transfer protocols commonly used in accessing a service endpoint, SOAP and REST. This review was rounded off with the direct comparison of both endpoints to show their individual functions and limitations. But knowing how to pass the service endpoint was just the first step in this lecture. Looking into different APIs, what they look like and how they work was a follow up milestone.</span></p><p class="c8"><span class="c2">My take-home message of this lesson: every time when developing an application there are different paths to choose. You have to know what your final project and workflow should look like to decide which technology works best for you.</span></p><p class="c34 c38"><span class="c2"></span></p><h1 class="c97 c74" id="h.7mrtiy6c2fjz"><span class="c11 c7">5 Requesting data with Ajax</span></h1><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">In this lesson, we will use an API to get spatial data and work it. More specifically, we want to program the application for a website that offers an interactive geocoding box into which the user can enter an address and gets the according xy coordinates displayed back.</span></p><p class="c8"><span class="c2">In technical terms, we will use a web-form for user input (provided by a AngularJS app) that invokes a JavaScript library (jQuery) to send a request (using AJAX) to the MapQuest Geocoding API, which will be displayed on our website (handled by AngularJS).</span></p><p class="c8"><span class="c2">Upon completion of this lesson you should be able to:</span></p><ul class="c30 lst-kix_47tttymf62p6-0 start"><li class="c8 c112"><span class="c2">develop your own AngularJS apps,</span></li><li class="c8 c112"><span class="c2">use a remote API to get data,</span></li><li class="c8 c112"><span class="c2">visualize geocoder results,</span></li><li class="c8 c112"><span class="c2">add polygons to an openlayers/openstreetmap map,</span></li><li class="c8 c112"><span class="c2">re-use existing code to build feature-rich html sites.</span></li></ul><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">In the last lesson we learned, how to manually retrieve data from a REST service endpoint. In this lesson, we want to retrieve these data automatically and load it into an AngularJS application. This is most elegantly done by a so-called AJAX request.</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.dedwsqvykn8s"><span class="c7 c103 c122 c23">5.1 AJAX</span></h2><p class="c8"><span class="c2">AJAX stands for Asynchronous JavaScript and XML. However, the XML in AJAX is actually misleading. AJAX applications might use XML to transport data, but it is equally common to transport data as plain text or JSON text.</span></p><p class="c8"><span class="c2">The asynchronous bit in this abbreviation is decisive. It means that you do not have to reload your entire website each time you want to get a tiny bit of data from an external source. AJAX can read data from a web server after the page has loaded, update a web page without reloading the page and send data to a web server in the background. So, the content of your website can change dynamically without reloading the webpage. This speeds up the process tremendously.</span></p><p class="c8"><span class="c2">The update of an AJAX request takes place on the client side. The server just receives your request, generates the data and sends it back to you. After the server receives the messages, the individual element is updated on your website.</span></p><p class="c8"><span class="c2">To place an AJAX request from our AngularJS application, we can make use of a library: jQuery.</span></p><p class="c8 c38"><span class="c2"></span></p><h2 class="c161 c74" id="h.vfmbnfapnm4y"><span class="c7 c103 c122 c23">5.2 jQuery library</span></h2><p class="c34"><span class="c2">jQuery is a fast, small, and feature-rich JavaScript library. Besides many other things, jQuery makes the use of AJAX much simpler with an easy-to-use API that works across a multitude of browsers.</span></p><p class="c34"><span class="c2">Here is a small example:</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c142 c74 c70"><span class="c31 c61 c101">$</span><span class="c31 c61">(</span><span class="c31 c87 c61">&quot;button.continue&quot;</span><span class="c31 c61">).</span><span class="c31 c61 c101">html</span><span class="c31 c61">(</span><span class="c31 c87 c61">&quot;Next &nbsp;step..&quot;</span><span class="c31 c61">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8"><span class="c2">The dollar-sign is the substitute for jQuery. Everything after the doller refers to something built in jQuery.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">The button.continue within the parentheses is a so-called selector. A selector is the internal syntax for getting HTML elements (anything between tags) from the current page. In the example above, the selector looks for all DOM elements of type &lt;button&gt; with a class-name continue and sets the text that is displayed on this button to &ldquo;Next step..&rdquo;.</span></p><p class="c8"><span class="c2">By the above code, these elements will be selected:</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c142 c74 c73"><span class="c31 c172 c178 c61 c205">&nbsp;</span><span class="c31 c178 c61 c43">&lt;button &nbsp;</span><span class="c31 c61 c106">class=</span><span class="c31 c87 c61">&quot;continue&quot;</span><span class="c31 c61 c43 c178">&gt; &nbsp;&lt;/button&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c8"><span class="c2">However, what is more interesting for us, is how jQuery can be used to handle AJAX-requests from code. The jQuery again starts with the $, but there is no selector, because there is nothing that can be applied to an HTML element. Instead we want to execute the function to retrieve data through the HTTP protocol.</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">An AJAX request is actually called XHR (XMLHttpRequest). Again, XML is misleading here, it doesn&rsquo;t have to be XML data. The request is handled through the jQuery AJAX function $.ajax() with three objects as parameters. Like for example in JSON, these objects are created with curly brackets {}:</span></p><ol class="c30 lst-kix_ar67uz8iwr7a-0 start" start="1"><li class="c34 c112"><span class="c2">the URL,</span></li><li class="c34 c112"><span class="c2">the specifiation which data we want to request, and</span></li><li class="c34 c112"><span class="c2">a function () that defines how the data shall be returned in case the request is successful</span></li></ol><p class="c34 c38"><span class="c2"></span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 155.60px;"><img alt="" src="images/image9.png" style="width: 632.00px; height: 155.60px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c2">With this information, your toolbox is complete; and you can interact from your JavaScript application with all available back ends, as long as they provide service endpoints and accept HTTP requests. Of course, this approach does not meet all requirements out there, but we want to keep things simple for now. In most cases anyway, JavaScript applications communicate with back ends via endpoints and HTTP. So, we are ready to coninue with our application examples: the interactive geocoding toolbox on a website.</span></p><p class="c8 c38"><span class="c2"></span></p><h2 class="c161 c74" id="h.8fswxg8x72cg"><span class="c7 c103 c122 c23">5.3 Geocoding example</span></h2><p class="c108 c271"><span>In our application example, we want to use the geocoder&rsquo;s JSON response to visualise the results on a map. As a basis to start from, a plain OpenLayers map with some branding is provided </span><span class="c98"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L5_EX_geocoder_map.zip&amp;sa=D&amp;ust=1590600755904000">here</a></span><span class="c2">. Download and unzip the .zip file and double-click on the map.html to open it in a browser. The aim is now to integrate a geocoding functionality: whenever a new address is entered by the user, the application will geocode it and display it on the map. </span></p><h3 class="c206" id="h.85gi7g33wgb7"><span>5.3.1 </span><span class="c3">Interactive geocoding box</span></h3><p class="c8"><span class="c2">Our first step that we take together, is to implement a user input form on a website that takes an address as input and displays the geocoded coordinates as output: an interactive geocoding box.</span></p><p class="c8"><span class="c2">Below is is the View component of this first step. You will recognise the structure from the AngularJS lesson. Upon a click on the button, the function location.geocode() is called:</span></p><p class="c34"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 86.93px;"><img alt="" src="images/image13.png" style="width: 632.00px; height: 86.93px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c2">Below is the corresponding JavaScript code that is called by this function. Note that we now need to reference not only the AngularJS framework, but also jQuery library to make the script work:</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 456.50px; height: 423.45px;"><img alt="" src="images/image28.png" style="width: 456.50px; height: 423.45px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8"><span class="c2">Once the result of the endpoint is available, jQuery invokes the success function. This function updates the model-attributes lat and lon and sets them to the values that MapQuest provides. The $scope.$apply function is required to immediately update the bound HTML-objects as soon as MapQuest returns JSON data.</span></p><p class="c8"><span class="c2">As mentioned, the cool thing about JSON is that we can work with it using object notation. In this case, the MapQuest response is an array with many results. This is because an address string might not refer to a single location. For simplicity, we use the first returned result - the location with the index [0]: response.result[0]. Each result has a geometry object, in which a location object is nested, which finally has the two desired attributes - lat and lon.</span></p><p class="c8"><span class="c2">Finally, there is another function we can invoke in case an error occurs. In this example, the function was left empty. In a practical application, however, you should inform the user in case something went wrong or provide a fallback endpoint.</span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 620.53px; height: 293.67px;"><img alt="A flowchart of the process logic in our geocoding application." src="images/image25.png" style="width: 620.53px; height: 293.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c129 c74 c70"><span class="c78 c61 c23 c151">A flowchart of the process logic in our geocoding application.</span></p><p class="c74 c38 c70 c129"><span class="c78 c151 c61 c23"></span></p><p class="c59"><span>Our second step is the integration of the geocoder functionality into the prepared OpenLayers map. Therefore, we need to add another function that adds the geocoding result of the returned JSON to the map - </span><span>let&rsquo;s call it &ldquo;addPointToMap&rdquo; (in contrast to other programming languages, a </span><span>JavaScript function starts with a lower-case letter and uses camelCase to separate words). We need to add it as a second function in our script after the geocode() function:</span></p><p class="c53 c38"><span class="c14 c7"></span></p><p class="c142 c74 c70"><span class="c31 c61">addPointToMap &nbsp;</span><span class="c21">= &nbsp;</span><span class="c31 c178 c61 c43">function</span><span class="c31 c61">(jsonData) &nbsp;</span><span class="c21">{}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c70 c113"><span>This function is still empty but has to be invoked for every successful geocoding-request. Go ahead and put the following line into the success-function of your geocoder:</span></p><p class="c53 c38"><span class="c14 c7"></span></p><p class="c142 c74 c70"><span class="c31 c61 c101">addPointToMap</span><span class="c31 c61">(response)</span><span class="c21">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c70 c186"><span>It is important that </span><span>response</span><span class="c2">&nbsp;is the same variable that is passed into the success function.</span></p><p class="c38 c128"><span class="c2"></span></p><p class="c177 c70 c216"><span>In the next step, extract the required coordinates from the point object inside your new function addPointToMap() by declaring two new variables of type array named geocodedPt:</span></p><p class="c38 c115"><span class="c7 c26 c23 c267"></span></p><p class="c79 c74 c73"><span class="c31 c172 c178 c61 c205">&nbsp;</span><span class="c31 c178 c61 c43">var &nbsp;</span><span class="c31 c61">geocodedPt &nbsp;</span><span class="c21">= &nbsp;</span><span class="c31 c61">[]</span><span class="c21">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c154 c70 c94"><span>This variable is now an empty array and needs to be filled with values. The first element in the geocodedPt object shall get the key </span><span>lat</span><span>&nbsp;and hold the latitude value from the jsonData. The final code line looks like this:</span></p><p class="c64 c38"><span class="c7 c14"></span></p><p class="c142 c74 c70"><span class="c31 c61">geocodedPt[</span><span class="c31 c61 c87">&quot;lat&quot;</span><span class="c31 c61">] &nbsp;</span><span class="c21">= &nbsp;</span><span class="c31 c61">$scope.location.</span><span class="c31 c61 c101">lat</span><span class="c21">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c70 c140"><span class="c2">Once you have the desired coordinates, you can proceed with the creation of the Point geometry. Fortunately OpenLayer supports certain OGC standards, including WKT geometries. The WKT standard stands for the Well-Known text representation of coordinate reference systems. It is an encoding standard for coordinates. For details see the online OGC reference.</span></p><p class="c165 c70 c218"><span class="c2">A WKT-reader needs to be created and also added to the addBoundsToMap function:</span></p><p class="c54 c38"><span class="c18 c7"></span></p><p class="c74 c70 c142"><span class="c31 c61">wkt &nbsp;</span><span class="c21">= &nbsp;</span><span class="c31 c178 c61 c43">new &nbsp;</span><span class="c31 c61">OpenLayers.Format.</span><span class="c31 c61 c101">WKT</span><span class="c31 c61">()</span><span class="c21">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c70 c116"><span>In WKT points, you construct the geometry starting with the longitude (x) followed by the latitude (y) as follows:</span></p><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 33.33px;"><img alt="" src="images/image3.png" style="width: 602.00px; height: 33.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c56 c73"><span class="c2">Next, you will parse the WKT into an OpenLayers geometry. To do this, use the WKT format created earlier and let us put that geometry into a variable:</span></p><p class="c56 c38 c73"><span class="c2"></span></p><p class="c56 c73"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 69.73px;"><img alt="" src="images/image38.png" style="width: 632.00px; height: 69.73px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c48"><span class="c2">Note that you have to define the data-projection as EPSG 4326 because you entered WGS84 data in form of degrees.</span></p><p class="c48"><span class="c2">Afterwards, you will add this new feature to the featureLayer that was defined in map.js; make sure to remove previous features:</span></p><p class="c56 c38 c73"><span class="c2"></span></p><p class="c38 c228"><span class="c16 c7"></span></p><p class="c120 c70"><span class="c16 c7">At the end you will retrieve the new featureLayer-extent and adjust the map-view:</span></p><p class="c53"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 52.53px;"><img alt="" src="images/image7.png" style="width: 632.00px; height: 52.53px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c228 c38"><span class="c2"></span></p><p class="c70 c230"><span class="c2">Now everything is set and you can try your new application!</span></p><p class="c177 c70 c191"><span>In case it does not work properly, or you want to cross-check your implementation, here is the full code of the geocoding map application as we just developed it: </span><span class="c98"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L5_EX_geocoder_map_Mapquest-solution&amp;sa=D&amp;ust=1590600755912000">download</a></span><span class="c2">, unzip and open the mapquest_solution.html in your browser to test.</span></p><p class="c177 c38 c70 c191"><span class="c2"></span></p><h2 class="c70 c105" id="h.4sk70eiso3ys"><span class="c7 c103 c122 c23">5.4 Exercise</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">The combination of coding skills, AngularJS framework directives, jQuery AJAX functionalities and handling service endpoints is what this lesson was all about!</span></p><p class="c8"><span class="c2">You gained experience with coupling of AngularJS and jQuery, get to know the easy and straight forwards AJAX handling in jQuery and made your first steps of handling data fetched from an API. The upcoming lesson will focus on the topic of debugging that hasn&rsquo;t been addressed yet and is one of the last steps to be discussed before you start working on your final assignment.</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34 c38"><span class="c2"></span></p><h1 class="c246" id="h.il83yv9kgx3y"><span class="c11 c7">6. Using Web-browsers for debugging JS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c8"><span class="c2">Debugging describes the process of testing a code to find and eliminate any errors in the code. An error can be a syntax error (like a forgotten comma, bracket or a misspelled variable name) or a logical error (like iterating through a list object although the object is not declared as a list). The structure of JavaScript makes the process of debugging harder compared to other coding languages. In other programming languages like Java, there is an interpreter that fills the gap between writing and executing a code. Such a component is valued when you want to debug your code, as the interpreter checks your code and gives you feedback. However, such a handy helper does not exist in JavaScript.</span></p><p class="c8"><span class="c2">In this lesson you will learn how to debug your script and include elements in the code that help finding erroneous code. The debugging environment for JavaScript is nothing else than your ordinary web browser.</span></p><p class="c8"><span class="c2">Upon completion of this lesson you should be able to:</span></p><p class="c8 c38"><span class="c2"></span></p><ul class="c30 lst-kix_kufqjegchkb-0 start"><li class="c8 c112"><span class="c2">use the developer tools in Google Chrome,</span></li><li class="c8 c112"><span class="c2">debug existing JavaScript code,</span></li><li class="c8 c112"><span class="c2">inspect browser-network-traffic.</span></li></ul><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">All modern browsers come with a built-in JavaScript debugging tool. Working with the debugging environment in your browser of choice is an important tool for web developers. With these tools you can properly test your code to find errors.</span></p><p class="c8"><span class="c2">Today, there are a lot of good browsers available for this task and it is totally up to you which one to use. I prefer Chrome and Firefox (which are very similar) because of their intuitive developer tools. The examples in this lesson are based on Chrome. However, feel free to try the same things in other browsers. Usually you can find the debugging tools behind the elements of &ldquo;developer tools&rdquo; or &ldquo;Inspect&rdquo;. Often you can also trigger the debugging console by pressing the F12 key when the browser is open.</span></p><p class="c8"><span class="c2">This lesson will be a hands-on. The following exercise will guide you through the debugging functionalities of an ordinary web-browser. After this lesson you should be familiar with debugging code with the browser and you might be more frequently using the F12 key in your browser.</span></p><p class="c94 c265"><span class="c26">In &nbsp;this &nbsp;lesson, we will continue working with the gecoder map application example. If you don&rsquo;t have a clean version of it at hand: </span><span class="c98 c26"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L5_EX_geocoder_map_Mapquest-solution&amp;sa=D&amp;ust=1590600755915000">download the geocoding map application</a></span><span class="c19">&nbsp;</span><span class="c26">and unzip it.</span></p><h2 class="c46" id="h.7x52zczbeyvt"><span class="c7 c103 c122 c23">6.1 Open the developer tools</span></h2><p class="c8"><span class="c2">This exercise will be based on Google Chrome. In Chrome, you can access the developer tools</span></p><p class="c8"><span class="c2">via &ldquo;right-mouse-click -&gt; inspect&rdquo;, via the &ldquo;tools&rdquo; in the menu bar, or by pushing the F12 button. The developer tools consist of several tabs. The most important for our purpose are the first four:</span></p><ul class="c30 lst-kix_sx82rlr3j9cq-0 start"><li class="c34 c112"><span class="c2">Elements to inspect the HTML DOM and more</span></li><li class="c34 c112"><span class="c2">Console to debug JavaScript</span></li><li class="c34 c112"><span class="c2">Sources to view source files</span></li><li class="c34 c112"><span class="c2">Network to view network traffic by the page</span></li></ul><h2 class="c46 c35" id="h.ccjthsjem80x"><span class="c7 c103 c122 c23"></span></h2><h2 class="c46" id="h.ccjthsjem80x-1"><span class="c7 c103 c122 c23">6.2 Sources</span></h2><p class="c8"><span class="c2">With the source tab you see all underlying documents that are behind the website. So, if you develop a web-application with JavaScript and HTML, everyone can see your code and your structure. However, this also means that the web is a rich repository of examples that you can use to develop your own application.</span></p><p class="c8"><span class="c2">Go ahead and browse the file structure of the geocoder map:</span></p><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_hk231ul2m0pp-0 start"><li class="c34 c112"><span class="c2">Open the .html document provided in the geocoder_map_Mapquest-solution folder in Google Chrome</span></li></ul><p class="c34 c38 c221"><span class="c2"></span></p><ul class="c30 lst-kix_hk231ul2m0pp-0"><li class="c34 c112"><span class="c2">Open the developer toolbar and go to the source tab and it will look like this:</span></li></ul><p class="c34 c221"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 329.27px; height: 349.47px;"><img alt="The source tab of your developer toolbar" src="images/image30.png" style="width: 329.27px; height: 349.47px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c74 c70 c92"><span class="c78 c61">The source tab of your developer toolbar</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c34"><span class="c2">The page consists of</span></p><p class="c34 c38"><span class="c2"></span></p><ul class="c30 lst-kix_c965wmvgwvjs-0 start"><li class="c34 c112"><span class="c2">The JavaScript &ldquo;libraries&rdquo; folder for jQuery (jQuery-1.7.1.min.js) and Openlayers (ol.js)</span></li><li class="c34 c112"><span class="c2">The JavaScript scripts in the &ldquo;js&rdquo; folder</span></li><li class="c34 c112"><span class="c2">the Index page, which is the start page of your html, here labelled &ldquo;mapquest_solution.html&rdquo;</span></li><li class="c34 c112"><span class="c2">CSS styles, and a</span></li><li class="c34 c112"><span class="c2">Header-image that makes our application look pretty.</span></li></ul><p class="c8"><span class="c2">Now, open the js folder and click on map.js. The script will appear in the right window. This is</span></p><p class="c8"><span class="c2">the editor window, it is just a viewer, for changes you have to open the original file.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Look through the other documents that are in the geocoder_map folder and explore their connection and functionality for the website.</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.62czwq54ucll"><span>6.3 </span><span class="c7 c103 c122 c23">Breakpoints</span></h2><p class="c8"><span class="c2">Breakpoints are a powerful function in the browser for debugging. Once you have placed a breakpoint in a codeline, the execution will stop there and you can continue to execute the code line by line. This way, you can watch live, which exactly happens in your web application after each line of code.</span></p><p class="c8"><span class="c2">Breakpoints are placed in the editor window of your browser development tool by clicking the line number. Got to mapquest_solution.html and set a breakpoint on line 39. This is exactly, where the scope of the controller is defined: $scope.location = {</span></p><p class="c74 c114"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 629.47px; height: 179.20px;"><img alt="A breakpoint is set on line 39." src="images/image31.jpg" style="width: 629.47px; height: 179.20px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c78 c151 c61 c23">A breakpoint is set on line 39.</span></p><p class="c96 c74 c38"><span class="c2"></span></p><p class="c96 c74"><span class="c2">To see how the breakpoint operates, we need to refresh the website. So set the breakpoint and hit F5 to refresh the page. The code in mapquest_solution.html will only execute until the breakpoint in line 39. Once the breakpoint is hit, you can inspect the variable values (as long as they are in scope, i.e. active in the current function): just hover over a variable in the code and an information window will appear.</span></p><p class="c96 c74"><span class="c2">Inspect the scope variable in line 39, where we set the breakline. It has not yet been initialised and it holds no useful information.</span></p><p class="c74 c96"><span class="c2">Now you can decide: you can either resume the script execution, or you can go one step further to the next function call.</span></p><p class="c56 c74 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 556.73px; height: 165.67px;"><img alt="Step through the codelines of the script." src="images/image32.png" style="width: 556.73px; height: 165.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span class="c78 c61">Step through the codelines of the script.</span></p><p class="c114 c74 c38"><span class="c78 c151 c61 c23"></span></p><p class="c8"><span class="c2">Let&rsquo;s step further: the code jumps to the end of the scope function. The debugger has worked through the function and commented on some parts and you can check variables once again.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Hover over the scope variable in line 39 to inspect it again: can you see that it now holds location as an attribute that has the value of the address of Padova?</span></p><p class="c8"><span class="c2">If you go to the next step, we leave our code and you will see in the tabs on the top that the angular.js has opened: the scope function in the mapquest_solution.html has invoked the AngularJS framework. If you continue stepping forward, eventually also the jQuery library and the OS library will be called. All this functionality is taken care of by the frameworks and libraries: it spares you a lot of coding!</span></p><p class="c8"><span class="c2">Now delete the breakpoint in line 39 by clicking on it again and set a new breakpoint in line 64, where a latitude value is assigned to the variable geocodedPt, our geocoded location. Resume and reload the web-map in the browser. The browser does not stop, because the geocoding functionality was not yet invoked. So, click on &ldquo;geocode&rdquo; and the application will stop.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Now, hover over the two variable geocodedPt. The value for geocodedPt[&quot;lat&quot;] is already assigned, the value for geocodedPt[&quot;lng&quot;] is still empty, as we have expected. Go one step further and check geocodedPt[&quot;lng&quot;] again: the longitude is assigned.</span></p><p class="c8"><span class="c2">Delete the breakpoint by clicking on it again.</span></p><p class="c8"><span class="c43">Conditional breakpoints</span><span class="c2">&nbsp;will stop the execution of the script, if a user-defined expression is met. Right click on the line number - add conditional breakpoint. A line will open in which you can type your conditional expression. Type in:</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">$scope.location.lat &gt; 45</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Refresh your browser window and click geocode: the execution will stop, because the latitude of Padova is north of (i.e. greater than) N 45.0&deg;.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">Finally, edit the breakpoint and replace the greater &gt; sign with a smaller sign &lt; and check, whether the application now is executed without stopping.</span></p><p class="c8"><span class="c2">Did it work? Remove the breakpoint to continue with the exercise.</span></p><h2 class="c161 c74 c35" id="h.n34frqnokxef"><span class="c7 c103 c122 c23"></span></h2><h2 class="c74 c161" id="h.n34frqnokxef-2"><span class="c7 c103 c122 c23">6.4 Console</span></h2><p class="c8"><span class="c2">Let&rsquo;s continue with the Console. This is the area a developer uses to write information, including information on system state, performance and errors. The Console is commonly used to facilitate the debugging procedure. The console informs about application errors and about the successful execution in case no errors are detected. In this way, the console can be a powerful means to debug code efficiently.</span></p><p class="c8"><span class="c2">Two commands are particularly useful for debugging:</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c20 c7">Console.log()</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">By executing this command in your HTML document, e.g. console.log(myVariable), the value of the specified variable is written to the console. The console.log() command is useful to check the different interim steps of a complicated algorithm. If you are handling different variables that are calculated dynamically, it can be useful to write them to the console so you can see if the variable makes sense or not.</span></p><p class="c8"><span class="c2">In the script part of the mapquest_solution.html, in the addPointToMap function, add console.log(geocodedPt); after you have declared the variables and assigned values to it.</span></p><p class="c8"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 98.67px;"><img alt="" src="images/image26.png" style="width: 632.00px; height: 98.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c63"><span class="c16 c7">Save the file and drag and drop it into your browser again. Open the Console tab in your</span></p><p class="c63"><span class="c16 c7">Browser and press &ldquo;Geocode&rdquo; to invoke the script. The geocoded coordinates of the variable &ldquo;northeast&rdquo; will be displayed in the console.</span></p><p class="c76 c38"><span class="c2"></span></p><p class="c73 c82"><span class="c26 c31">&nbsp;[lat: 45.40861, lon: 11.87024]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h5 class="c70 c94 c226" id="h.b5fqxvtlw05f"><span class="c42 c7 c23">Console.info()</span></h5><p class="c38 c76"><span class="c42 c7 c23"></span></p><p class="c69 c94"><span class="c26">This command adds information to the plain </span><span class="c26 c31">console.log()</span><span class="c16 c7">&nbsp;command. You can combine your variable with some text that specifies it, or also add the processing time.</span></p><p class="c38 c60"><span class="c16 c7"></span></p><p class="c67"><span class="c26">In the mapquest_solution.html modify the </span><span class="c26 c31">console.log</span><span class="c26">&nbsp;to a </span><span class="c26 c31">console.info</span><span class="c16 c7">&nbsp;command:</span></p><p class="c145 c38 c94"><span class="c16 c7"></span></p><p class="c69 c94"><span class="c26 c31">console.info(&#39;the NE corner of the BB (northeast) =&#39;, northeast ,&#39; southwest =&#39;, southwest);</span><span class="c26">&nbsp;</span><span class="c26 c31">console.info(&#39;lat/lon coords of the geocoded point: &#39; , geocodedPt );</span></p><p class="c94 c260"><span>Save the html, drag&amp;drop it to the browser and hit &ldquo;geocode&rdquo;. This is what the script returns to </span><span class="c16 c7">the console:</span></p><p class="c76 c38"><span class="c16 c7"></span></p><p class="c50 c94"><span class="c26 c31">&nbsp;lat/lon coords of the geocoded point: &nbsp;[lat: 45.40861, lon: 11.87024]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><p class="c94 c187"><span class="c26">Once you have finished with the testing, clean your code from </span><span class="c26 c31">console</span><span class="c26">&nbsp;statements and proceed with the last developer tool that we discuss in this lesson: the </span><span class="c26 c31">network</span><span class="c26">&nbsp;tab.</span></p><p class="c8"><span class="c2">In order to assess the performance of an application, the network tab offers rich information. Google explains the network performance tab on their Chrome browser as follows: &ldquo;The</span></p><p class="c8"><span class="c2">Network panel records information about each network operation on a page, including detailed timing data, HTTP request and response headers, cookies, and more.&rdquo;</span></p><p class="c8"><span class="c2">Open your map application in the browser and switch to the network tab of the Developer tools and take some time to explore the information that can be retrieved with the network tool. Here are some things that you can try:</span></p><p class="c8"><span class="c20 c7">Website build-up at loading</span></p><p class="c8"><span class="c2">Click on the camera icon and hit F5. The result: a series of screenshots, as the site builds up. As you can see, the map tiles are loaded sequentially, starting from the top right.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c20 c7">Filters</span></p><p class="c8"><span class="c2">Use the filter to see only specific data types like the style sheets (CSS), JavaScript (JS), documents (Doc), images (Img), or the XML-HTTP-Request (XHR). Remember: XHR is the request that is used for the asynchronous update requests in AJAX, which allow to request data without having to reload the entire website.</span></p><ul class="c30 lst-kix_sr3gv86tjvoq-0 start"><li class="c8 c112"><span class="c2">reload the website in the browser and hit the geocode button</span></li><li class="c8 c112"><span class="c2">in the network tab of the developer tools click on the filter symbol and then select XHR to filter for XHR Ajax calls. In our script we have one $.ajax request. As expected, the network tool returns one line with an XHR: it is the request that asks for a json file with the geocoded coordinates of the user-defined address, which is sent as an argument:</span></li></ul><p class="c8 c38"><span class="c2"></span></p><p class="c8 c277"><span class="c20 c7">address?key=xIUXsioMg2DK2Xcy...</span></p><p class="c8 c38 c221"><span class="c2"></span></p><ul class="c30 lst-kix_58exd6kpdp5e-0 start"><li class="c8 c112"><span class="c2">Click on it. You will see four tabs to further explore the XHR request: Headers, Preview, Response and Timing.</span></li><li class="c8 c112"><span class="c2">Select Headers - these are the headers of the response that is retrieved from the Google geocoding API. How long will the JSON result be valid, before it has to be retrieved again?</span></li><li class="c8 c112"><span class="c2">Select Response to view the JSON result.</span></li><li class="c8 c112"><span class="c2">Select Preview to view the structure of the JSON result (click on the arrows to fold and unfold code)</span></li><li class="c8 c112"><span class="c2">Select Timing to see, how long the request takes, from sending it until a result is returned. In my case, the data was retrieved in 2.26ms.</span></li></ul><p class="c8"><span class="c2">Use the network tool to find out how long does it takes to reload the entire website? This helps to quantify the performance gain, when using asynchronous Ajax calls!</span></p><p class="c8 c38"><span class="c2"></span></p><h2 class="c161 c74" id="h.4wyear48xvt6"><span class="c7 c103 c122 c23">6.5 Summary</span></h2><p class="c8"><span class="c2">In this lesson you learned that the F12 key in your browser is a helpful friend. While in other programming languages a compiler can save you a lot of work checking your code, with JavaScript and HTML the browser tools provide you a lot of functionality to check your code regarding processing times, validation and syntax errors. We have used Google Chrome in this exercise, but almost every browser has developer tools with similar functionalities so that you can stick to your favorite browser.</span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8 c38"><span class="c2"></span></p><p class="c8 c38"><span class="c2"></span></p><h1 class="c58" id="h.ao2bbbb845x"><span class="c11 c7">7. Bringing it all together&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c8 c38"><span class="c2"></span></p><p class="c8"><span class="c2">In this last lesson, we will not introduce new concepts, but instead take a step back and look again at the bigger picture of our web-mapping applications. Although it is ok to write small applications in one document, you should start to better organise it into individual components as the code gets more complex. It is good practice to keep code separated and grouped into useful elements that you might use again later. You will gain the flexibility of full modularity and reusability.</span></p><p class="c8"><span class="c2">We will look into the system architecture and will re-organise the code of the geocoding application accordingly. Now, that we have a better grip on coding, it is easier to understand underlying design concepts for good application design. The re-organised code will be the basis from which you can start into the final assignment.</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.aunrljdq69yk"><span class="c7 c103 c122 c23">7.1 Software architecture</span></h2><p class="c34"><span class="c2">We can think of the geocoding application as a 2-tier architecture: a simple client-server architecture. We did not care about the data management on the server side. We operated on the client side: we queried, transformed and presented the spatial data. We consumed OSM map tiles for the background map and integrated GPS data points from a REST service.</span></p><p class="c56 c70"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 294.67px;"><img alt="Component-model for your application-development part: the visualiser" src="images/image6.jpg" style="width: 602.00px; height: 294.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10 c70 c74"><span class="c78 c61">Component-model for your application-development part: the visualiser</span></p><p class="c34 c38"><span class="c2"></span></p><h2 class="c46" id="h.3fy61dg576a3"><span class="c7 c103 c122 c23">7.2 CRC model</span></h2><p class="c34 c38"><span class="c2"></span></p><p class="c8"><span class="c2">To implement our client-side application we can continue with designing the classes according to the Class Responsibility Collaborator (CRC) model. For this, we need to ask which components (classes) are involved? There can be several answers to this question, but a useful CRC model would split the tasks into one class that gets the data, another class, that transforms and visualises the data and a third class that takes care of the background map. We already have a background map (the map.js). In the tables below I have specified everything that these three classes need to have (properties), what the need to do (functionality - in bold), and with which other components they need to interact (collaborators).</span></p><p class="c8"><span class="c2">Each of these classes will be modelled in a separate .js file:</span></p><p class="c34 c38"><span class="c2"></span></p><p class="c54 c38"><span class="c7 c134 c23 c43"></span></p><p class="c54 c38"><span class="c7 c134 c23 c43"></span></p><p class="c54 c38"><span class="c7 c134 c23 c43"></span></p><p class="c38 c54"><span class="c7 c23 c43 c134"></span></p><p class="c54 c38"><span class="c7 c134 c23 c43"></span></p><h5 class="c56" id="h.tza5ljgisd4b"><span class="c157 c23 c43">Classname: dataProvider</span></h5><p class="c54 c38"><span class="c42 c7 c23"></span></p><a id="t.95d3660159a2143c5136d3bb7ad6e479df42e7f7"></a><a id="t.2"></a><table class="c66"><tbody><tr class="c155"><td class="c268" colspan="1" rowspan="1"><p class="c168"><span class="c16 c7">Responsibilities</span></p></td><td class="c269" colspan="1" rowspan="1"><p class="c168"><span class="c16 c7">Collaborator</span></p></td></tr><tr class="c270"><td class="c91" colspan="1" rowspan="1"><p class="c149 c210"><span class="c16 c7">requests geocoded data from address</span></p></td><td class="c219" colspan="1" rowspan="1"><p class="c149"><span class="c16 c7">html user input, PHP Rest Service</span></p></td></tr><tr class="c250"><td class="c208" colspan="1" rowspan="1"><p class="c169"><span class="c16 c7">has request-context</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c56 c38 c118"><span class="c16 c7"></span></p></td></tr><tr class="c202"><td class="c208" colspan="1" rowspan="1"><p class="c107"><span class="c16 c7">has JSON endpoint</span></p></td><td class="c180" colspan="1" rowspan="1"><p class="c56 c38 c118"><span class="c16 c7"></span></p></td></tr></tbody></table><p class="c56 c74 c38"><span class="c2"></span></p><h5 class="c50" id="h.dkoqdxvw3o4q"><span class="c42 c7 c23">Classname: visualizer</span></h5><p class="c54 c38"><span class="c42 c7 c23"></span></p><a id="t.f14aa270deafe741bdbe2540b36f6fc4bdd62497"></a><a id="t.3"></a><table class="c66"><tbody><tr class="c258"><td class="c256" colspan="1" rowspan="1"><p class="c168"><span class="c16 c7">Responsibilities</span></p></td><td class="c201" colspan="1" rowspan="1"><p class="c209"><span class="c16 c7">Collaborator</span></p></td></tr><tr class="c207"><td class="c290" colspan="1" rowspan="1"><p class="c149"><span class="c16 c7">has JSON data</span></p></td><td class="c93" colspan="1" rowspan="1"><p class="c193"><span class="c16 c7">&nbsp; &nbsp;dataProvider</span></p></td></tr><tr class="c71"><td class="c37" colspan="1" rowspan="1"><p class="c102"><span class="c16 c7">has JSON structure</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c56 c38 c118"><span class="c16 c7"></span></p></td></tr><tr class="c71"><td class="c37" colspan="1" rowspan="1"><p class="c102"><span class="c16 c7">extracts BBox coords</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c56 c38 c118"><span class="c16 c7"></span></p></td></tr><tr class="c71"><td class="c283" colspan="2" rowspan="1"><p class="c169"><span class="c16 c7">constructs polygon feature</span></p></td></tr><tr class="c162"><td class="c37" colspan="1" rowspan="1"><p class="c107"><span class="c16 c7">triggers map-drawing</span></p></td><td class="c72" colspan="1" rowspan="1"><p class="c199"><span class="c16 c7">map</span></p></td></tr></tbody></table><h5 class="c171" id="h.zcubk0aevxec"><span class="c42 c7 c23">Classname: map</span></h5><p class="c53 c38"><span class="c42 c7 c23"></span></p><a id="t.504a13706222714f3b125be54c906a6cdeedcf88"></a><a id="t.4"></a><table class="c66"><tbody><tr class="c155"><td class="c152" colspan="1" rowspan="1"><p class="c168"><span class="c16 c7">Responsibilities</span></p></td><td class="c225" colspan="1" rowspan="1"><p class="c118 c272"><span class="c16 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Collaborator</span></p></td></tr><tr class="c207"><td class="c29" colspan="1" rowspan="1"><p class="c149"><span class="c16 c7">get map tiles</span></p></td><td class="c84" colspan="1" rowspan="1"><p class="c56 c38 c118"><span class="c16 c7"></span></p></td></tr><tr class="c71"><td class="c240" colspan="2" rowspan="1"><p class="c102"><span class="c16 c7">add feature layer to map</span></p></td></tr><tr class="c202"><td class="c245" colspan="1" rowspan="1"><p class="c107"><span class="c16 c7">render map</span></p></td><td class="c65" colspan="1" rowspan="1"><p class="c118 c121"><span class="c26">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c16 c7">OpenLayers</span></p></td></tr></tbody></table><p class="c56 c38"><span class="c2"></span></p><h2 class="c46" id="h.dpckgl4kgd63"><span class="c7 c103 c122 c23">7.3 Sketching function</span></h2><p class="c177 c70 c94"><span class="c16 c7">After having finished the class modeling part, you can take the next step and think about how the functionality shall be implemented by individual parts.</span></p><p class="c187 c70 c94"><span class="c7 c16">The dataProvider needs to &ldquo;request geocoded data from an address&rdquo;. This is the Ajax request part. We need to pass the request parameters (the address) from the html into this function:</span></p><p class="c60 c38"><span class="c16 c7"></span></p><p class="c70 c94 c125"><span class="c26 c31">dataProvider.requestJSON = function(requestParameters)</span><span class="c26">&nbsp;The </span><span class="c42 c7 c23">visualizer</span></p><p class="c145 c70 c94"><span class="c26 c31">visualizer.sendDataToMap = function(jsonData)</span></p><p class="c145 c38 c94"><span class="c16 c7"></span></p><p class="c177 c70 c94"><span class="c26">In the geocoding exercise in the Ajax-Lesson we already have written the code within the html, so we can start there. Have a look at this </span><span class="c98 c26"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L5_EX_geocoder_map_Mapquest-solution&amp;sa=D&amp;ust=1590600755948000">geocoding map application</a></span><span class="c26">. There are two functions between the </span><span class="c26 c31">&lt;script&gt;</span><span class="c16 c7">&nbsp;tags, which we want to move elsewhere:</span></p><p class="c38 c94 c194"><span class="c16 c7"></span></p><ol class="c30 lst-kix_e9jrp5gtf8oc-0 start" start="1"><li class="c176 c94 c181"><span class="c26">the </span><span class="c26 c31">geocode: function()</span><span class="c16 c7">&nbsp;with the Ajax request should be moved to the dataProvider.js class, and</span></li><li class="c176 c94 c253"><span class="c26">the </span><span class="c26 c31">addBoundsToMap: function(jsonData)</span><span class="c16 c7">&nbsp;needs to be moved to the visualizer.js class. This function does all three jobs that we described above as responsibilities of the visualizer.</span></li><li class="c50 c176"><span class="c16 c7">the map.js is called from the visualizer. It already does what it should and stays untouched.</span></li></ol><p class="c38 c123"><span class="c16 c7"></span></p><p class="c69 c85"><span class="c26">So, in the </span><span class="c26 c31">&lt;script&gt;</span><span class="c26">&nbsp;part of the html, we just call the dataProvider from the </span><span class="c26 c31">geocode: function()</span><span class="c26">. We start with the class that we call, followed by a dot, and then we add the function with the parameters: </span><span class="c26 c31">dataProvider.requestJSON($scope.location.address);</span><span class="c16 c7">. See below:</span></p><p class="c69 c70 c85"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 632.00px; height: 243.80px;"><img alt="" src="images/image41.png" style="width: 632.00px; height: 243.80px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c10"><span class="c2">Now, create two a new textfile called &ldquo;dataProvider.js&rdquo; and initialise it with a global variable:</span></p><p class="c53 c38"><span class="c2"></span></p><p class="c50"><span class="c26 c31">var dataProvider = {};</span></p><p class="c54 c38"><span class="c7 c18"></span></p><p class="c177 c94"><span class="c26">With this global variable of the class, you can call a variable or a function within the class from elsewhere by referencing </span><span class="c26 c31">className.variable</span><span class="c26">&nbsp;or </span><span class="c26 c31">className.functionName()</span><span class="c16 c7">&nbsp;- just as we did it from the html.</span></p><p class="c94 c204"><span class="c26">Now, go ahead and move the Ajax call from the old html to a function in the dataProvider. In JavaScript, you assign the function directly to the object that shall hold it. You are doing this by accessing the desired name and let it hold a function, in this case e.g.: </span><span class="c26 c31">dataProvider.requestJSON = function(requestParameters)</span><span class="c16 c7">.</span></p><p class="c80"><span class="c16 c7">In case the request succeeds, use the same syntax to call the adequate function in the visualizer and pass the data with it as a parameter</span></p><p class="c28"><span>Now it&rsquo;s your turn: go ahead and redistribute the geocoding app code in accordance to the </span><span class="c26">defined CRC model. You can download the </span><span class="c98 c26"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/L7_EX_geocoder_map_CRC-solution&amp;sa=D&amp;ust=1590600755952000">Web-map CRC(L7_EX_geocoder_map_CRC- solution.zip)</a></span><span class="c19">&nbsp;</span><span class="c16 c7">as reference, but try yourself first!</span></p><p class="c28 c38"><span class="c16 c7"></span></p><h2 class="c70 c94 c274" id="h.35a2ubn0wb1z"><span class="c7 c103 c122 c23">7.4 Summary</span></h2><p class="c8"><span class="c2">In this last lesson, we brought all the pieces together and you probably need to think about the whole picture a few more times before you totally understand each and every link and relation. Now take a deep breath and get ready with coding the final assignment!</span></p><h1 class="c249 c70 c117 c170" id="h.6pc8jwo5j1yu"><span class="c11 c7"></span></h1><h1 class="c249 c117 c170" id="h.llha2vt6oxv"><span class="c11 c7"></span></h1><h1 class="c170 c249" id="h.v9eas2uj21gw"><span class="c11 c7">8 FOSS Application&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></h1><p class="c170 c184"><span class="c33 c7 c23">In this exercise we are going to explore how to integrate Geoserver map services, REST APIs, LeafletJS and highcharts libraries to develop a cutting-edge web mapping application.</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">First, let&rsquo;s create a basic html as follows:</span></p><p class="c22"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c47">&lt;!</span><span class="c1">DOCTYPE</span><span class="c6">&nbsp;</span><span class="c0">HTML</span><span class="c47">&gt;</span></p><p class="c17"><span class="c47">&lt;</span><span class="c1">html</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; </span><span class="c47">&lt;</span><span class="c1">head</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">meta</span><span class="c6">&nbsp;</span><span class="c0">charset</span><span class="c6">=</span><span class="c4">&quot;utf-8&quot;</span><span class="c6">&nbsp;</span><span class="c47">/&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">title</span><span class="c47">&gt;</span><span class="c6">GIScience Webgis application</span><span class="c47">&lt;/</span><span class="c1">title</span><span class="c47">&gt;</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c68">&lt;!-- include leaflet css and javascript --&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">link</span><span class="c6">&nbsp;</span><span class="c0">rel</span><span class="c6">=</span><span class="c4">&quot;stylesheet&quot;</span><span class="c6">&nbsp;</span><span class="c0">href</span><span class="c6">=</span><span class="c4">&quot;css/leaflet.css&quot;</span><span class="c6">&nbsp;</span><span class="c47">/&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;libraries/leaflet-src.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;libraries/proj4.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;libraries/proj4leaflet.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;libraries/jquery.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;libraries/highcharts.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;libraries/highcharts_more.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">type</span><span class="c6">=</span><span class="c4">&quot;text/javascript&quot;</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;https://www.gstatic.com/charts/loader.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c68">&lt;!-- include our own css --&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">link</span><span class="c6">&nbsp;</span><span class="c0">rel</span><span class="c6">=</span><span class="c4">&quot;stylesheet&quot;</span><span class="c6">&nbsp;</span><span class="c0">href</span><span class="c6">=</span><span class="c4">&quot;css/leaflet-example.css&quot;</span><span class="c6">&nbsp;</span><span class="c47">/&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c68">&lt;!-- we include the javascript at the bottom, see below --&gt;</span></p><p class="c17"><span class="c6">&nbsp; </span><span class="c47">&lt;/</span><span class="c1">head</span><span class="c47">&gt;</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c6">&nbsp; </span><span class="c47">&lt;</span><span class="c1">body</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">div</span><span class="c6">&nbsp;</span><span class="c0">id</span><span class="c6">= </span><span class="c4">&#39;banner&#39;</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">h1</span><span class="c47">&gt;</span><span class="c6">UNIPD - Master in GIScience - Webgis application exercise (Frontend)</span><span class="c47">&lt;/</span><span class="c1">h1</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">hr</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">p</span><span class="c47">&gt;</span><span class="c6">&nbsp;Example of a web application integrating various technologies including Postgres, GeoServer, LeafletJs and custom Javascripts.</span><span class="c47">&lt;/</span><span class="c1">p</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;/</span><span class="c1">div</span><span class="c47">&gt;</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">div</span><span class="c6">&nbsp;</span><span class="c0">id</span><span class="c6">=</span><span class="c4">&quot;map&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">div</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c47">&lt;</span><span class="c1">div</span><span class="c6">&nbsp;</span><span class="c0">id</span><span class="c6">=</span><span class="c4">&quot;stats&quot;</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">div</span><span class="c6">&nbsp;</span><span class="c0">id</span><span class="c6">=</span><span class="c4">&quot;plot&quot;</span><span class="c6">&nbsp;</span><span class="c0">class</span><span class="c6">=</span><span class="c4">&quot;&quot;</span><span class="c47">&gt;</span><span class="c6">&nbsp;Click on a country to show the Population statistics</span><span class="c47">&lt;/</span><span class="c1">div</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">div</span><span class="c6">&nbsp;</span><span class="c0">id</span><span class="c6">=</span><span class="c4">&quot;plot_change&quot;</span><span class="c6">&nbsp;</span><span class="c0">class</span><span class="c6">=</span><span class="c4">&quot;&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">div</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; </span><span class="c47">&lt;/</span><span class="c1">div</span><span class="c47">&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c68">&lt;!-- include our own javascript --&gt;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c47">&lt;</span><span class="c1">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c4">&quot;stats.js&quot;</span><span class="c47">&gt;&lt;/</span><span class="c1">script</span><span class="c47">&gt;</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c6">&nbsp; </span><span class="c47">&lt;/</span><span class="c1">body</span><span class="c47">&gt;</span></p><p class="c17"><span class="c47">&lt;/</span><span class="c1">html</span><span class="c47">&gt;</span></p><p class="c22"><span class="c33 c7 c23"></span></p><p class="c22"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">Save it as &ldquo;index.html&rdquo;</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">Next, create a folder called &ldquo;libraries&rdquo; containing all external libraries included in the application we are going to develop.</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c56 c74"><span class="c61">You can download the files to be stored under the above folder at: </span><span class="c98 c172 c61 c205"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/final_ex_libraries&amp;sa=D&amp;ust=1590600755971000">https://github.com/lucageo/final_ex_libraries</a></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">Now you can create another folder called css where you are going to store stylesheet that you can download from here:</span></p><p class="c56 c74"><span class="c98 c172 c61 c205"><a class="c25" href="https://www.google.com/url?q=https://github.com/lucageo/final_ex_css&amp;sa=D&amp;ust=1590600755972000">https://github.com/lucageo/final_ex_css</a></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">By doing the steps above we have created a suitable environment to start with the development of our application.</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">We can therefore move forward creating a new file called &ldquo;stats.js&rdquo;</span></p><p class="c27"><span class="c33 c7 c23">In this file we are going to create all the scripts that will:</span></p><ul class="c30 lst-kix_1zytx7tpqopf-0 start"><li class="c27 c112"><span class="c33 c7 c23">Populate the map div</span></li><li class="c27 c112"><span class="c33 c7 c23">Populate the plot div</span></li><li class="c27 c112"><span class="c33 c7 c23">Populate the plot_change div</span></li></ul><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">The following code will be used to initialize the map:</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c68">//Initialise map</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">pixel_ratio</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">window</span><span class="c6">.</span><span class="c0">devicePixelRatio</span><span class="c6">) || </span><span class="c89">1</span><span class="c6 c7">;</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">max_zoom</span><span class="c6">&nbsp;= </span><span class="c89">16</span><span class="c6 c7">;</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">tile_size</span><span class="c6">&nbsp;= </span><span class="c89">512</span><span class="c6 c7">;</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">map</span><span class="c6">&nbsp;= </span><span class="c0">L</span><span class="c6">.</span><span class="c32">map</span><span class="c6">(</span><span class="c4">&#39;map&#39;</span><span class="c6 c7">, {</span></p><p class="c17"><span class="c6">}).</span><span class="c32">setView</span><span class="c6">([</span><span class="c89">10</span><span class="c6">, </span><span class="c89">8</span><span class="c6">], </span><span class="c89">3</span><span class="c6 c7">);</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">The next step is to populate the map with 2 base layers, in this case we use a satellite map and a light base map provided from Carto.</span></p><p class="c27 c38"><span class="c7 c23 c33"></span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">WorldImagery</span><span class="c6">&nbsp;= </span><span class="c0">L</span><span class="c6">.</span><span class="c32">tileLayer</span><span class="c6">(</span><span class="c4">&#39;https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}&#39;</span><span class="c6 c7">, {</span></p><p class="c17"><span class="c6">&nbsp;</span><span class="c0">attribution:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&#39;</span></p><p class="c17"><span class="c6 c7">});</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">light</span><span class="c6">&nbsp; = &nbsp;</span><span class="c0">L</span><span class="c6">.</span><span class="c32">tileLayer</span><span class="c6">(</span><span class="c4">&#39;https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}{r}.png&#39;</span><span class="c6 c7">, {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">attribution:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt; &amp;copy; &lt;a href=&quot;http://cartodb.com/attributions&quot;&gt;CartoDB&lt;/a&gt;&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">subdomains:</span><span class="c6">&nbsp;</span><span class="c4">&#39;abcd&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">maxZoom:</span><span class="c6">&nbsp;</span><span class="c89">19</span></p><p class="c17"><span class="c6">}).</span><span class="c32">addTo</span><span class="c6">(</span><span class="c0">map</span><span class="c6 c7">);</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">We want now to add a country layer from our geoserver:</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">url_gs_country</span><span class="c6">&nbsp;= </span><span class="c4">&#39;https://geospatial.jrc.ec.europa.eu/geoserver/dopa_explorer_3/wms&#39;</span><span class="c6 c7">;</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">country</span><span class="c6">=</span><span class="c0">L</span><span class="c6">.</span><span class="c0">tileLayer</span><span class="c6">.</span><span class="c32">wms</span><span class="c6">(</span><span class="c0">url_gs_country</span><span class="c6 c7">, {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c0">layers:</span><span class="c6">&nbsp;</span><span class="c4">&#39;dopa_explorer_3:dopa_geoserver_countries_master_201905&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c0">transparent:</span><span class="c6">&nbsp;</span><span class="c1">true</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c0">styles:</span><span class="c4">&#39;polygon&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c0">format:</span><span class="c6">&nbsp;</span><span class="c4">&#39;image/png&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c0">opacity:</span><span class="c4">&#39;0.5&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp;</span><span class="c0">zIndex:</span><span class="c6">&nbsp;</span><span class="c89">33</span></p><p class="c17"><span class="c6">}).</span><span class="c32">addTo</span><span class="c6">(</span><span class="c0">map</span><span class="c6 c7">);</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">And create an &ldquo;on click&rdquo; function that will allow us to grab the information from the layer when the user clicks on a feature:</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c68">// on click function</span></p><p class="c17"><span class="c0">map</span><span class="c6">.</span><span class="c32">on</span><span class="c6">(</span><span class="c4">&#39;click&#39;</span><span class="c6">, </span><span class="c1">function</span><span class="c6">(</span><span class="c0">e</span><span class="c6 c7">) {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp;</span><span class="c252 c172">if</span><span class="c6">&nbsp;(</span><span class="c0">map</span><span class="c6">.</span><span class="c32">hasLayer</span><span class="c6">(</span><span class="c0">country</span><span class="c6 c7">)) {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">latlng</span><span class="c6">= </span><span class="c0">e</span><span class="c6">.</span><span class="c0">latlng</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">url</span><span class="c6">&nbsp;= </span><span class="c32">getFeatureInfoUrl</span><span class="c6 c7">(</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">map</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">country</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">e</span><span class="c6">.</span><span class="c0">latlng</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c4">&#39;info_format&#39;</span><span class="c0">:</span><span class="c6">&nbsp;</span><span class="c4">&#39;text/javascript&#39;</span><span class="c6 c7">, &nbsp;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c4">&#39;propertyName&#39;</span><span class="c0">:</span><span class="c6">&nbsp;</span><span class="c4">&#39; name_c,iso3_digit,land_area&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c4">&#39;query_layers&#39;</span><span class="c0">:</span><span class="c6">&nbsp;</span><span class="c4">&#39;dopa_explorer_3:dopa_geoserver_countries_master_201905&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c4">&#39;format_options&#39;</span><span class="c0">:</span><span class="c4">&#39;callback:getJson&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; );</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">$</span><span class="c6">.</span><span class="c32">ajax</span><span class="c6 c7">({</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">jsonp:</span><span class="c6">&nbsp;</span><span class="c1">false</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">url:</span><span class="c6">&nbsp;</span><span class="c0">url</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">dataType:</span><span class="c6">&nbsp;</span><span class="c4">&#39;jsonp&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">jsonpCallback:</span><span class="c6">&nbsp;</span><span class="c4">&#39;getJson&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c32">success</span><span class="c0">:</span><span class="c6">&nbsp;</span><span class="c32">handleJson_featureRequest</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;});</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">function</span><span class="c6">&nbsp;</span><span class="c32">handleJson_featureRequest</span><span class="c6">(</span><span class="c0">data</span><span class="c6 c7">)</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c252 c172">if</span><span class="c6">&nbsp;(</span><span class="c1">typeof</span><span class="c6">&nbsp;</span><span class="c0">data</span><span class="c6">.</span><span class="c0">features</span><span class="c6">[</span><span class="c89">0</span><span class="c6">]!==</span><span class="c4">&#39;undefined&#39;</span><span class="c6 c7">)</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">prop</span><span class="c6">=</span><span class="c0">data</span><span class="c6">.</span><span class="c0">features</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">properties</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">filter</span><span class="c6">=</span><span class="c4">&quot;iso3_digit=&#39;&quot;</span><span class="c6">+</span><span class="c0">prop</span><span class="c6">[</span><span class="c4">&#39;iso3_digit&#39;</span><span class="c6">]+</span><span class="c4">&quot;&#39;&quot;</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">country_hi</span><span class="c6">.</span><span class="c32">setParams</span><span class="c6">({</span><span class="c0">CQL_FILTER:filter</span><span class="c6 c7">});</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c32">hi_highcharts_country</span><span class="c6">(</span><span class="c0">prop</span><span class="c6">,</span><span class="c0">latlng</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c252 c172">else</span><span class="c6 c7">&nbsp;{}</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c252 c172">else</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span></p><p class="c17"><span class="c6 c7">});</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">Afterwards we want to set up the get feature info response in order to be able to pass the parameters to the &ldquo;on click&rdquo; function above:</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c68">// get feature info function</span></p><p class="c17"><span class="c1">function</span><span class="c6">&nbsp;</span><span class="c32">getFeatureInfoUrl</span><span class="c6">(</span><span class="c0">map</span><span class="c6">, </span><span class="c0">layer</span><span class="c6">, </span><span class="c0">latlng</span><span class="c6">, </span><span class="c0">params</span><span class="c6 c7">) {</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">point</span><span class="c6">&nbsp;= </span><span class="c0">map</span><span class="c6">.</span><span class="c32">latLngToContainerPoint</span><span class="c6">(</span><span class="c0">latlng</span><span class="c6">, </span><span class="c0">map</span><span class="c6">.</span><span class="c32">getZoom</span><span class="c6 c7">()),</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">size</span><span class="c6">&nbsp;= </span><span class="c0">map</span><span class="c6">.</span><span class="c32">getSize</span><span class="c6 c7">(),</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">bounds</span><span class="c6">&nbsp;= </span><span class="c0">map</span><span class="c6">.</span><span class="c32">getBounds</span><span class="c6 c7">(),</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">sw</span><span class="c6">&nbsp;= </span><span class="c0">bounds</span><span class="c6">.</span><span class="c32">getSouthWest</span><span class="c6 c7">(),</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">ne</span><span class="c6">&nbsp;= </span><span class="c0">bounds</span><span class="c6">.</span><span class="c32">getNorthEast</span><span class="c6 c7">();</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">defaultParams</span><span class="c6 c7">&nbsp;= {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">request:</span><span class="c6">&nbsp;</span><span class="c4">&#39;GetFeatureInfo&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">service:</span><span class="c6">&nbsp;</span><span class="c4">&#39;WMS&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">srs:</span><span class="c6">&nbsp;</span><span class="c4">&#39;EPSG:4326&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">styles:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">version:</span><span class="c6">&nbsp;</span><span class="c0">layer</span><span class="c6">.</span><span class="c0">_wmsVersion</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">format:</span><span class="c6">&nbsp;</span><span class="c0">layer</span><span class="c6">.</span><span class="c0">options</span><span class="c6">.</span><span class="c0">format</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">bbox:</span><span class="c6">&nbsp;</span><span class="c0">bounds</span><span class="c6">.</span><span class="c32">toBBoxString</span><span class="c6 c7">(),</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">height:</span><span class="c6">&nbsp;</span><span class="c0">size</span><span class="c6">.</span><span class="c0">y</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">width:</span><span class="c6">&nbsp;</span><span class="c0">size</span><span class="c6">.</span><span class="c0">x</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">layers:</span><span class="c6">&nbsp;</span><span class="c0">layer</span><span class="c6">.</span><span class="c0">options</span><span class="c6">.</span><span class="c0">layers</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">info_format:</span><span class="c6">&nbsp;</span><span class="c4">&#39;text/javascript&#39;</span></p><p class="c17"><span class="c6 c7">};</span></p><p class="c17"><span class="c0">params</span><span class="c6">&nbsp;= </span><span class="c0">L</span><span class="c6">.</span><span class="c0">Util</span><span class="c6">.</span><span class="c32">extend</span><span class="c6">(</span><span class="c0">defaultParams</span><span class="c6">, </span><span class="c0">params</span><span class="c6 c7">&nbsp;|| {});</span></p><p class="c17"><span class="c0">params</span><span class="c6">[</span><span class="c0">params</span><span class="c6">.</span><span class="c0">version</span><span class="c6">&nbsp;=== </span><span class="c4">&#39;1.3.0&#39;</span><span class="c6">&nbsp;? </span><span class="c4">&#39;i&#39;</span><span class="c6">&nbsp;: </span><span class="c4">&#39;x&#39;</span><span class="c6">] = </span><span class="c0">point</span><span class="c6">.</span><span class="c0">x</span><span class="c6 c7">;</span></p><p class="c17"><span class="c0">params</span><span class="c6">[</span><span class="c0">params</span><span class="c6">.</span><span class="c0">version</span><span class="c6">&nbsp;=== </span><span class="c4">&#39;1.3.0&#39;</span><span class="c6">&nbsp;? </span><span class="c4">&#39;j&#39;</span><span class="c6">&nbsp;: </span><span class="c4">&#39;y&#39;</span><span class="c6">] = </span><span class="c0">point</span><span class="c6">.</span><span class="c0">y</span><span class="c6 c7">;</span></p><p class="c17"><span class="c172 c252">return</span><span class="c6">&nbsp;</span><span class="c0">layer</span><span class="c6">.</span><span class="c0">_url</span><span class="c6">&nbsp;+ </span><span class="c0">L</span><span class="c6">.</span><span class="c0">Util</span><span class="c6">.</span><span class="c32">getParamString</span><span class="c6">(</span><span class="c0">params</span><span class="c6">, </span><span class="c0">layer</span><span class="c6">.</span><span class="c0">_url</span><span class="c6">, </span><span class="c1">true</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6 c7">}</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c184 c170"><span class="c33 c7 c23">If we want to give a visual response wile clicking on a map feature we should add a new layer on top of the map.</span></p><p class="c184 c170"><span class="c33 c7 c23">This layer should be hidden by default and appears only when the &ldquo;on click&rdquo; function is active, to do that we can use the CQL filter provided by GeoServer where we define a query that exclude all the countries from the visualization (see the last line of the script below) that will be update on the &ldquo;on click&rdquo; function by using the clicked country iso3.</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c68">// country HIGLIGHTED LAYER</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">url</span><span class="c6">&nbsp;= </span><span class="c4">&#39;https://geospatial.jrc.ec.europa.eu/geoserver/dopa_explorer_3/wms&#39;</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">country_hi</span><span class="c6">=</span><span class="c0">L</span><span class="c6">.</span><span class="c0">tileLayer</span><span class="c6">.</span><span class="c32">wms</span><span class="c6">(</span><span class="c0">url</span><span class="c6 c7">, {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">layers:</span><span class="c6">&nbsp;</span><span class="c4">&#39;dopa_explorer_3:dopa_geoserver_countries_master_201905&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">transparent:</span><span class="c6">&nbsp;</span><span class="c1">true</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">format:</span><span class="c6">&nbsp;</span><span class="c4">&#39;image/png&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">opacity:</span><span class="c4">&#39;0.7&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">styles:</span><span class="c6">&nbsp;</span><span class="c4">&#39;polygon&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">zIndex:</span><span class="c6">&nbsp;</span><span class="c89">44</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp;}).</span><span class="c32">addTo</span><span class="c6">(</span><span class="c0">map</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp;</span><span class="c0">country_hi</span><span class="c6">.</span><span class="c32">setParams</span><span class="c6">({</span><span class="c0">CQL_FILTER:</span><span class="c4">&quot;iso3 LIKE &#39;&#39;&quot;</span><span class="c6 c7">});</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c61">Now we want to add two charts that display Total Population and Population Change when the user clicks on a country, grabbing data from the rest services created within the back-end lessons (</span><span class="c172 c99 c227"><a class="c25" href="https://www.google.com/url?q=http://flask.gis-ninja.eu/fn/f_population_data/iso3%3D&amp;sa=D&amp;ust=1590600756008000">http://flask.gis-ninja.eu/fn/f_population_data/iso3=</a></span><span class="c83">&nbsp;</span><span class="c33 c7 c23">):</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c1">function</span><span class="c6">&nbsp;</span><span class="c32">hi_highcharts_country</span><span class="c6">(</span><span class="c0">info</span><span class="c6">,</span><span class="c0">latlng</span><span class="c6 c7">){</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">name_c</span><span class="c6">=</span><span class="c0">info</span><span class="c6">[</span><span class="c4">&#39;name_c&#39;</span><span class="c6 c7">];</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">iso3_digit</span><span class="c6">=</span><span class="c0">info</span><span class="c6">[</span><span class="c4">&#39;iso3_digit&#39;</span><span class="c6 c7">];</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">land_area</span><span class="c6">=</span><span class="c0">info</span><span class="c6">[</span><span class="c4">&#39;land_area&#39;</span><span class="c6 c7">];</span></p><p class="c17"><span class="c6">&nbsp;</span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">popupContent</span><span class="c6">&nbsp;= </span><span class="c4">&#39;&lt;center&gt;&lt;h5&gt;&#39;</span><span class="c6">+</span><span class="c0">name_c</span><span class="c6">+</span><span class="c4">&#39;&lt;/h5&gt;&lt;/center&gt;&#39;</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp;</span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">popup</span><span class="c6">&nbsp;= </span><span class="c0">L</span><span class="c6">.</span><span class="c32">popup</span><span class="c6 c7">()</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span><span class="c32">setLatLng</span><span class="c6">([</span><span class="c0">latlng</span><span class="c6">.</span><span class="c0">lat</span><span class="c6">, </span><span class="c0">latlng</span><span class="c6">.</span><span class="c0">lng</span><span class="c6 c7">])</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span><span class="c32">setContent</span><span class="c6">(</span><span class="c0">popupContent</span><span class="c6 c7">)</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.</span><span class="c32">openOn</span><span class="c6">(</span><span class="c0">map</span><span class="c6 c7">);</span></p><p class="c220 c74 c38"><span class="c6 c7"><br></span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">url_country_pop</span><span class="c6">&nbsp;= </span><span class="c4">&#39;http://flask.gis-ninja.eu/fn/f_population_data/iso3=&#39;</span><span class="c6">+ </span><span class="c0">iso3_digit</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">console</span><span class="c6">.</span><span class="c32">log</span><span class="c6">(</span><span class="c0">url_country_pop</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; </span><span class="c0">$</span><span class="c6">.</span><span class="c32">ajax</span><span class="c6 c7">({</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">url:</span><span class="c6">&nbsp;</span><span class="c0">url_country_pop</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">dataType:</span><span class="c6">&nbsp;</span><span class="c4">&#39;json&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c32">success</span><span class="c0">:</span><span class="c6">&nbsp;</span><span class="c1">function</span><span class="c6">(</span><span class="c0">d</span><span class="c6 c7">) {</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">iso3</span><span class="c6">&nbsp;= </span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">iso3</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">name</span><span class="c6">&nbsp;= </span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">name</span><span class="c6 c7">;</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">pop_2016</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">pop_2016</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">pop_2017</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">pop_2017</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">pop_2018</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">pop_2018</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">incr_2016</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">incr_2016</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">incr_2017</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">incr_2017</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">incr_2018</span><span class="c6">&nbsp;= </span><span class="c32">parseInt</span><span class="c6">(</span><span class="c0">d</span><span class="c6">[</span><span class="c89">0</span><span class="c6">].</span><span class="c0">incr_2018</span><span class="c6 c7">);</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c32">$</span><span class="c6">(</span><span class="c4">&#39;#plot&#39;</span><span class="c6">).</span><span class="c32">highcharts</span><span class="c6 c7">({</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">chart:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">title:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">text:</span><span class="c6">&nbsp;</span><span class="c4">&#39;Population in &#39;</span><span class="c6">+</span><span class="c0">name</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">subtitle:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">text:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">credits:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">enabled:</span><span class="c6">&nbsp;</span><span class="c1">false</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">xAxis:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">categories:</span><span class="c6">&nbsp;[</span><span class="c4">&#39;2016&#39;</span><span class="c6">, </span><span class="c4">&#39;2017&#39;</span><span class="c6">, </span><span class="c4">&#39;2018&#39;</span><span class="c6 c7">&nbsp;],</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">yAxis:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">title:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">text:</span><span class="c6">&nbsp;</span><span class="c4">&#39;Percentage&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">tooltip:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">headerFormat:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&lt;span style=&quot;font-size:12px&quot;&gt;{series.name}&lt;/span&gt;&lt;br&gt;&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">pointFormat:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&lt;span&gt;{point.name}&lt;/span&gt; &lt;b&gt;{point.y:.2f}&lt;/b&gt; &lt;br/&gt;&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">plotOptions:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">column:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">pointPadding:</span><span class="c6">&nbsp;</span><span class="c89">0.2</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">borderWidth:</span><span class="c6">&nbsp;</span><span class="c89">0</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">series:</span><span class="c6 c7">&nbsp;[{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">name:</span><span class="c6">&nbsp;</span><span class="c4">&#39;Population&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">data:</span><span class="c6">&nbsp;[</span><span class="c0">pop_2016</span><span class="c6">,</span><span class="c0">pop_2017</span><span class="c6">,</span><span class="c0">pop_2018</span><span class="c6 c7">]</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }]</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c32">$</span><span class="c6">(</span><span class="c4">&#39;#plot_change&#39;</span><span class="c6">).</span><span class="c32">highcharts</span><span class="c6 c7">({</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">chart:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">type:</span><span class="c6">&nbsp;</span><span class="c4">&#39;column&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">zoomType:</span><span class="c6">&nbsp;</span><span class="c4">&#39;xy&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">title:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">text:</span><span class="c6">&nbsp;</span><span class="c4">&#39;Population Change in &#39;</span><span class="c6">+</span><span class="c0">name</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">subtitle:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">text:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">credits:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">enabled:</span><span class="c6">&nbsp;</span><span class="c1">false</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">xAxis:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">categories:</span><span class="c6">&nbsp;[</span><span class="c4">&#39;2016&#39;</span><span class="c6">, </span><span class="c4">&#39;2017&#39;</span><span class="c6">, </span><span class="c4">&#39;2018&#39;</span><span class="c6 c7">&nbsp;],</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">yAxis:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">title:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">text:</span><span class="c6">&nbsp;</span><span class="c4">&#39;Percentage&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">tooltip:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">headerFormat:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&lt;span style=&quot;font-size:12px&quot;&gt;{series.name}&lt;/span&gt;&lt;br&gt;&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c0">pointFormat:</span><span class="c6">&nbsp;</span><span class="c4">&#39;&lt;span&gt;{point.name}&lt;/span&gt; &lt;b&gt;{point.y:.2f}&lt;/b&gt; &lt;br/&gt;&#39;</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">plotOptions:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">column:</span><span class="c6 c7">&nbsp;{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">pointPadding:</span><span class="c6">&nbsp;</span><span class="c89">0.2</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">borderWidth:</span><span class="c6">&nbsp;</span><span class="c89">0</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">series:</span><span class="c6 c7">&nbsp;[{</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">name:</span><span class="c6">&nbsp;</span><span class="c4">&#39;Population&#39;</span><span class="c6 c7">,</span></p><p class="c17"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c0">data:</span><span class="c6">&nbsp;[</span><span class="c0">incr_2016</span><span class="c6">,</span><span class="c0">incr_2017</span><span class="c6">,</span><span class="c0">incr_2018</span><span class="c6 c7">]</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }]</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; });</span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c17"><span class="c6 c7">&nbsp; &nbsp; &nbsp; },</span></p><p class="c17"><span class="c6 c7">&nbsp; });</span></p><p class="c74 c38 c220"><span class="c6 c7"><br></span></p><p class="c17"><span class="c6 c7">}</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">In order to do that we make use of the Highchart library with wich we create the two charts mentioned above.</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">Last thing to do is to made available the layes within the map and to add a layer switcher.</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c17"><span class="c68">//Available Layers</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">baseMaps</span><span class="c6">&nbsp;= {</span><span class="c4">&quot;White&quot;</span><span class="c0">&nbsp;:</span><span class="c6">&nbsp;</span><span class="c0">light</span><span class="c6">, </span><span class="c4">&quot;WorldImagery&quot;</span><span class="c0">:WorldImagery</span><span class="c6 c7">};</span></p><p class="c17"><span class="c1">var</span><span class="c6">&nbsp;</span><span class="c0">overlayMaps</span><span class="c6">&nbsp;= {</span><span class="c4">&#39;country&#39;</span><span class="c0">:</span><span class="c6">&nbsp;</span><span class="c0">country</span><span class="c6 c7">};</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c17"><span class="c68">//Add Layer Control</span></p><p class="c17"><span class="c0">layerControl</span><span class="c6">&nbsp;= </span><span class="c0">L</span><span class="c6">.</span><span class="c0">control</span><span class="c6">.</span><span class="c32">layers</span><span class="c6">(</span><span class="c0">baseMaps</span><span class="c6">, </span><span class="c0">overlayMaps</span><span class="c6">, </span><span class="c1">null</span><span class="c6">, &nbsp;{</span><span class="c0">position:</span><span class="c6">&nbsp;</span><span class="c4">&#39;topleft&#39;</span><span class="c6">}).</span><span class="c32">addTo</span><span class="c6">(</span><span class="c0">map</span><span class="c6 c7">);</span></p><p class="c17 c38"><span class="c6 c7"></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span class="c33 c7 c23">If now you save your JS file and open the index.html with a browser you should be able to see the following web page:</span></p><p class="c27 c38"><span class="c33 c7 c23"></span></p><p class="c27"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 473.33px;"><img alt="" src="images/image21.png" style="width: 602.00px; height: 473.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c8 c38"><span class="c2"></span></p></body></html>